
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://granitewms.github.io/granitedocs/6.0/database/release-notes/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.5">
    
    
      
        <title>Release notes - Granite WMS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra_css/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unreleased-500" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Granite WMS Documentation" class="md-header__button md-logo" aria-label="Granite WMS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Granite WMS Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Release notes
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../scaffold/manual/" class="md-tabs__link">
          
  
    
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tools/" class="md-tabs__link">
          
  
    
  
  Tools & Technology

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../updates/" class="md-tabs__link">
          
  
    
  
  Release Notes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Granite WMS Documentation" class="md-nav__button md-logo" aria-label="Granite WMS Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Granite WMS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scaffold/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scaffold
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Label Printing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Label Printing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../label-printing/bartender/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bartender
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../label-printing/zpl/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ZPL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/accpac/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Accpac
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_1" id="__nav_2_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_1">
            <span class="md-nav__icon md-icon"></span>
            Accpac
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/accpac/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/accpac/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/acumatica/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Acumatica
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Acumatica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/acumatica/acumatica-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acumatica Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/acumatica/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/acumatica/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/cin7/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    CIN7
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_3" id="__nav_2_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_3">
            <span class="md-nav__icon md-icon"></span>
            CIN7
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/cin7/cin7-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CIN7 Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/cin7/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/cin7/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/evo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Evolution
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_4" id="__nav_2_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_4">
            <span class="md-nav__icon md-icon"></span>
            Evolution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/evo/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/evo/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/omni/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Omni
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/quickbooks/native-app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuickBooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/sapb1/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SAPB1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/syspro/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Syspro
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/sage100/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Sage 100
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_9" id="__nav_2_3_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_9">
            <span class="md-nav__icon md-icon"></span>
            Sage 100
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/sage100/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/sage100/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integration/intacct/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Sage Intacct
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3_10" id="__nav_2_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_10">
            <span class="md-nav__icon md-icon"></span>
            Sage Intacct
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/intacct/sdk-provider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Provider
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integration/intacct/integration-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration Jobs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../webdesktop/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Web Desktop
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Web Desktop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../webdesktop/datagrid/datagrid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Grid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../webdesktop/datacapture/data-capture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Capture
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android-application/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scanner Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../business-api/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Business API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../custodian-api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Custodian API
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Custodian API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custodian-api/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custodian-api/process-template-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Process Template Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custodian-api/email-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Email Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custodian-api/reporting-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reporting Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../custodian-api/sql-export-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL Export Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scheduler/manual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduler
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../customization/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Customization
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            Customization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_8_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../sqlclr/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SQLCLR
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8_2" id="__nav_2_8_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8_2">
            <span class="md-nav__icon md-icon"></span>
            SQLCLR
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sqlclr/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sqlclr/version-6-upgrade-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version 6 Upgrade Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sqlclr/reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLR Procedure Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../security/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Application Security
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            Application Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/system-security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System Security
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/user-permissions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permissions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/api-keys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Keys
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tools/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tools & Technology
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tools & Technology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../iis/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IIS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ssrs/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSRS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/jam/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jam.dev
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/jaeger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jaeger
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/nifi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apache NiFi
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../updates/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    What's New
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            What's New
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/V4/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    V5
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            V5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/V5/whats-new.mdmkdocs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whats New
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/V5/product-update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Product Update
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_3" >
        
          
          <label class="md-nav__link" for="__nav_4_2_3" id="__nav_4_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    V6
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_3">
            <span class="md-nav__icon md-icon"></span>
            V6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/V6/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whats New
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/V6/cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CheatSheet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../updates/release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hotfixes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unreleased-500" class="md-nav__link">
    <span class="md-ellipsis">
      Unreleased (5.0.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Unreleased (5.0.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changed-views" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_querydocuments" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryDocuments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_transactions" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Transactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionsreceivereversal" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsReceiveReversal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datagrid_stockavailable" class="md-nav__link">
    <span class="md-ellipsis">
      DataGrid_StockAvailable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-tables" class="md-nav__link">
    <span class="md-ellipsis">
      New tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration" class="md-nav__link">
    <span class="md-ellipsis">
      Migration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfieldvalues_location" class="md-nav__link">
    <span class="md-ellipsis">
      OptionalFieldValues_Location
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfieldvalues_document" class="md-nav__link">
    <span class="md-ellipsis">
      OptionalFieldValues_Document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfieldvalues_documentdetail" class="md-nav__link">
    <span class="md-ellipsis">
      OptionalFieldValues_DocumentDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemtransientdata" class="md-nav__link">
    <span class="md-ellipsis">
      SystemTransientData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#email" class="md-nav__link">
    <span class="md-ellipsis">
      Email
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emaillog" class="md-nav__link">
    <span class="md-ellipsis">
      EmailLog
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emailtemplate" class="md-nav__link">
    <span class="md-ellipsis">
      EmailTemplate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Changed tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    <span class="md-ellipsis">
      Users
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsettings" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process" class="md-nav__link">
    <span class="md-ellipsis">
      Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processmembers" class="md-nav__link">
    <span class="md-ellipsis">
      ProcessMembers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processstep" class="md-nav__link">
    <span class="md-ellipsis">
      ProcessStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transaction" class="md-nav__link">
    <span class="md-ellipsis">
      Transaction
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processsteplookup" class="md-nav__link">
    <span class="md-ellipsis">
      ProcessStepLookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processsteplookupdynamic" class="md-nav__link">
    <span class="md-ellipsis">
      ProcessStepLookupDynamic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removed-stored-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      Removed Stored Procedures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Removed Stored Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#emailtemplate_1" class="md-nav__link">
    <span class="md-ellipsis">
      EmailTemplate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-data" class="md-nav__link">
    <span class="md-ellipsis">
      New Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration-data" class="md-nav__link">
    <span class="md-ellipsis">
      Migration Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emailtemplate-data" class="md-nav__link">
    <span class="md-ellipsis">
      EmailTemplate Data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsettings_1" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-data" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#users_1" class="md-nav__link">
    <span class="md-ellipsis">
      Users
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultreplenishprocess" class="md-nav__link">
    <span class="md-ellipsis">
      DefaultReplenishProcess
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsettings_2" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applicationgrids" class="md-nav__link">
    <span class="md-ellipsis">
      ApplicationGrids
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpacintegration" class="md-nav__link">
    <span class="md-ellipsis">
      AccpacIntegration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AccpacIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changed-views_1" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integration_accpac_autosimplymodetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_AutoSimplyMODetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_internalusagedetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_InternalUsageDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_intransitdetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_IntransitDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_purchaseorderdetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_PurchaseOrderDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_receiptdetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_ReceiptDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_salesorderdetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_SalesOrderDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_accpac_transferdetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Accpac_TransferDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#masteritemalias_view" class="md-nav__link">
    <span class="md-ellipsis">
      MasterItemAlias_View
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-stored-procedures" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Stored Procedures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Stored Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrationprocesstransfer" class="md-nav__link">
    <span class="md-ellipsis">
      IntegrationProcessTransfer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pastelevointegration" class="md-nav__link">
    <span class="md-ellipsis">
      PastelEvoIntegration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PastelEvoIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-views" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integration_evolution_interbranchrequisitionheader" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Evolution_InterBranchRequisitionHeader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration_evolution_interbranchrequisitiondetail" class="md-nav__link">
    <span class="md-ellipsis">
      Integration_Evolution_InterBranchRequisitionDetail
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      New trigger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New trigger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#triggergraniteinterbranchrequisition" class="md-nav__link">
    <span class="md-ellipsis">
      TriggerGraniteInterBranchRequisition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#august-4510" class="md-nav__link">
    <span class="md-ellipsis">
      August (4.5.1.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="August (4.5.1.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_1" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-views_1" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datagrid_stockavailable_1" class="md-nav__link">
    <span class="md-ellipsis">
      Datagrid_StockAvailable
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-views_2" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_querytransactionspickreversal" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsPickReversal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querydocumentprogress" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryDocumentProgress
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-data_1" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#applicationgrids_1" class="md-nav__link">
    <span class="md-ellipsis">
      ApplicationGrids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enquiry-grids" class="md-nav__link">
    <span class="md-ellipsis">
      Enquiry Grids
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsnippets" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSnippets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpaccintegration" class="md-nav__link">
    <span class="md-ellipsis">
      AccpaccIntegration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AccpaccIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changed-views_3" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masteritemalias_view_1" class="md-nav__link">
    <span class="md-ellipsis">
      MasterItemAlias_View
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-stored-procedures_1" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Stored Procedures
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Stored Procedures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrationprocesspurchaseorder" class="md-nav__link">
    <span class="md-ellipsis">
      IntegrationProcessPurchaseOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrationprocesssalesorder" class="md-nav__link">
    <span class="md-ellipsis">
      IntegrationProcessSalesOrder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrationprocesstransfer_1" class="md-nav__link">
    <span class="md-ellipsis">
      IntegrationProcessTransfer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evolutionintegration" class="md-nav__link">
    <span class="md-ellipsis">
      EvolutionIntegration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EvolutionIntegration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changed-views_4" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#masteritemalias_view_2" class="md-nav__link">
    <span class="md-ellipsis">
      MasterItemAlias_View
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#09-june-2023-4500" class="md-nav__link">
    <span class="md-ellipsis">
      09 June 2023 (4.5.0.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="09 June 2023 (4.5.0.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_2" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-tables_1" class="md-nav__link">
    <span class="md-ellipsis">
      New tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#datagrid" class="md-nav__link">
    <span class="md-ellipsis">
      DataGrid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemstaticdata" class="md-nav__link">
    <span class="md-ellipsis">
      SystemStaticData
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsnippets_1" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSnippets
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auditstocktakelines" class="md-nav__link">
    <span class="md-ellipsis">
      AuditStockTakeLines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemhelp" class="md-nav__link">
    <span class="md-ellipsis">
      SystemHelp
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Table Changes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Table Changes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#userscredential" class="md-nav__link">
    <span class="md-ellipsis">
      UsersCredential
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#document" class="md-nav__link">
    <span class="md-ellipsis">
      Document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_1" class="md-nav__link">
    <span class="md-ellipsis">
      Process
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processstep_1" class="md-nav__link">
    <span class="md-ellipsis">
      ProcessStep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#users_2" class="md-nav__link">
    <span class="md-ellipsis">
      Users
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usergroup" class="md-nav__link">
    <span class="md-ellipsis">
      UserGroup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#audit" class="md-nav__link">
    <span class="md-ellipsis">
      Audit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsettings_3" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-tables" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated Tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-views_2" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="New Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_querystocktakeprocesssummary" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryStockTakeProcessSummary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-views_5" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Changed Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api_querypicksliplines" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryPickslipLines
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querystockreplenish" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryStockReplenish
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querystocktakelinessummary" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryStockTakeLinesSummary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querystockdetail" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryStockDetail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactions" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionsmanufacture" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsManufacture
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionspickreversal_1" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsPickReversal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionspicking" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsPicking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionsreceiving" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsReceiving
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api_querytransactionstransfer" class="md-nav__link">
    <span class="md-ellipsis">
      API_QueryTransactionsTransfer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deprecated-views" class="md-nav__link">
    <span class="md-ellipsis">
      Deprecated Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other" class="md-nav__link">
    <span class="md-ellipsis">
      Other
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#misc-folder-renamed-to-tooling" class="md-nav__link">
    <span class="md-ellipsis">
      Misc folder renamed to Tooling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moved-views-to-new-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Moved views to new folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#moved-scripts-to-new-folders" class="md-nav__link">
    <span class="md-ellipsis">
      Moved scripts to new folders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-processes-moved-to-subfolder" class="md-nav__link">
    <span class="md-ellipsis">
      Default processes moved to subfolder
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removed-unused-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Removed unused scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postdeployscript" class="md-nav__link">
    <span class="md-ellipsis">
      PostDeployScript
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scriptinputparameters" class="md-nav__link">
    <span class="md-ellipsis">
      ScriptInputParameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grids-data" class="md-nav__link">
    <span class="md-ellipsis">
      Grids data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsettings-data" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#systemsnippets-data" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSnippets data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usercredentials-data" class="md-nav__link">
    <span class="md-ellipsis">
      UserCredentials data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pastel-evo-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Pastel EVO Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pastel EVO Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduledjobs-views" class="md-nav__link">
    <span class="md-ellipsis">
      ScheduledJobs Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduledjobs-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      ScheduledJobs Triggers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpac-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Accpac Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accpac Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduledjobs-views_1" class="md-nav__link">
    <span class="md-ellipsis">
      ScheduledJobs Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scheduledjobs-triggers_1" class="md-nav__link">
    <span class="md-ellipsis">
      ScheduledJobs Triggers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syspro-database" class="md-nav__link">
    <span class="md-ellipsis">
      Syspro Database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Syspro Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tables" class="md-nav__link">
    <span class="md-ellipsis">
      Tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Triggers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procedures" class="md-nav__link">
    <span class="md-ellipsis">
      Procedures
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sapb1-database" class="md-nav__link">
    <span class="md-ellipsis">
      SAPB1 Database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SAPB1 Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-tables_2" class="md-nav__link">
    <span class="md-ellipsis">
      New Tables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sapb1-integration" class="md-nav__link">
    <span class="md-ellipsis">
      SAPB1 Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SAPB1 Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scheduled-job-views" class="md-nav__link">
    <span class="md-ellipsis">
      Scheduled Job Views
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#omni-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Omni Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-feb-2023-4220" class="md-nav__link">
    <span class="md-ellipsis">
      24 Feb 2023 (4.2.2.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="24 Feb 2023 (4.2.2.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_3" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-tables_3" class="md-nav__link">
    <span class="md-ellipsis">
      New tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-changes_1" class="md-nav__link">
    <span class="md-ellipsis">
      Table changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-changes" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stored-procedure-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Stored Procedure changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-process-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Default Process scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    <span class="md-ellipsis">
      Miscellaneous
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new" class="md-nav__link">
    <span class="md-ellipsis">
      New
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changes" class="md-nav__link">
    <span class="md-ellipsis">
      Changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evolutiondatabase" class="md-nav__link">
    <span class="md-ellipsis">
      EvolutionDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EvolutionDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new_1" class="md-nav__link">
    <span class="md-ellipsis">
      New
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#07-sep-2022-4210" class="md-nav__link">
    <span class="md-ellipsis">
      07 Sep 2022 (4.2.1.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="07 Sep 2022 (4.2.1.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-changes-add-version-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table Changes Add Version column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-changes-add-erpsyncfailed-erpsyncfailedreason" class="md-nav__link">
    <span class="md-ellipsis">
      Table changes Add ERPSyncFailed, ERPSyncFailedReason
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-changes_1" class="md-nav__link">
    <span class="md-ellipsis">
      View Changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-aug-2022" class="md-nav__link">
    <span class="md-ellipsis">
      15 Aug 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="15 Aug 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#view-changes_2" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-add-masteritem-id-to-views-api_querystocktotalsdetail-api_querystocktotals-api_querystockdetail" class="md-nav__link">
    <span class="md-ellipsis">
      - Add masterItem ID to views. API_QueryStockTotalsDetail, API_QueryStockTotals, API_QueryStockDetail
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#04-aug-2022-4200" class="md-nav__link">
    <span class="md-ellipsis">
      04 Aug 2022 (4.2.0.0)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="04 Aug 2022 (4.2.0.0)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#systemsettings-new-data-entry" class="md-nav__link">
    <span class="md-ellipsis">
      SystemSettings new data entry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-table-type" class="md-nav__link">
    <span class="md-ellipsis">
      New table type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-template" class="md-nav__link">
    <span class="md-ellipsis">
      Function Template
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-table" class="md-nav__link">
    <span class="md-ellipsis">
      New Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-july-2022" class="md-nav__link">
    <span class="md-ellipsis">
      27 July 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="27 July 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Data changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-changes_3" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-changes_2" class="md-nav__link">
    <span class="md-ellipsis">
      Table changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-tables_4" class="md-nav__link">
    <span class="md-ellipsis">
      New Tables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stored-procs-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Stored Procs changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#30-june" class="md-nav__link">
    <span class="md-ellipsis">
      30 June
    </span>
  </a>
  
    <nav class="md-nav" aria-label="30 June">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process-and-steps-default" class="md-nav__link">
    <span class="md-ellipsis">
      Process and Steps default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-views_3" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-function" class="md-nav__link">
    <span class="md-ellipsis">
      New function
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#07-june" class="md-nav__link">
    <span class="md-ellipsis">
      07 June
    </span>
  </a>
  
    <nav class="md-nav" aria-label="07 June">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_4" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-changes_3" class="md-nav__link">
    <span class="md-ellipsis">
      Table changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-changes_4" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-function_1" class="md-nav__link">
    <span class="md-ellipsis">
      New function
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sapb1" class="md-nav__link">
    <span class="md-ellipsis">
      SAPB1
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpac" class="md-nav__link">
    <span class="md-ellipsis">
      ACCPAC
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ACCPAC">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stored-proc-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Stored Proc Changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-stored-proc" class="md-nav__link">
    <span class="md-ellipsis">
      New Stored Proc
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-may-2022" class="md-nav__link">
    <span class="md-ellipsis">
      20 May 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="20 May 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_5" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#view-changes_5" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-may-2022" class="md-nav__link">
    <span class="md-ellipsis">
      18 May 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="18 May 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#granitedatabase_6" class="md-nav__link">
    <span class="md-ellipsis">
      GraniteDatabase
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraniteDatabase">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-table_1" class="md-nav__link">
    <span class="md-ellipsis">
      New table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-changes_4" class="md-nav__link">
    <span class="md-ellipsis">
      Table changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-changes_6" class="md-nav__link">
    <span class="md-ellipsis">
      View changes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-may-2022" class="md-nav__link">
    <span class="md-ellipsis">
      13 May 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13 May 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#view-changes-alter-views" class="md-nav__link">
    <span class="md-ellipsis">
      View Changes (alter views)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#05-may-2022" class="md-nav__link">
    <span class="md-ellipsis">
      05 May 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="05 May 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#view-changes-alter-views_1" class="md-nav__link">
    <span class="md-ellipsis">
      View Changes (alter views)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-document-add-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table Document add columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-document-change-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table Document change column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-tradingpartner-change-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table TradingPartner change column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-custom_documenttrackinglog-change-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table custom_DocumentTrackingLog change column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-custom_documenttrackinglog-add-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table custom_DocumentTrackingLog add column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-stocktakelines-add-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table StockTakeLines add columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-mar-2022" class="md-nav__link">
    <span class="md-ellipsis">
      31 Mar 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="31 Mar 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-stocktakelines-add-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table StockTakeLines Add column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#views-new" class="md-nav__link">
    <span class="md-ellipsis">
      Views New
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-mar-2022" class="md-nav__link">
    <span class="md-ellipsis">
      25 Mar 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="25 Mar 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-masteritemalias" class="md-nav__link">
    <span class="md-ellipsis">
      Table MasterItemAlias
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-mar-2022" class="md-nav__link">
    <span class="md-ellipsis">
      23 Mar 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="23 Mar 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-functionparameter-add-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table FunctionParameter Add column
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#08-mar-2022" class="md-nav__link">
    <span class="md-ellipsis">
      08 Mar 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="08 Mar 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-functionparameterlookup" class="md-nav__link">
    <span class="md-ellipsis">
      Table FunctionParameterLookup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-views_4" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-views_6" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#27-feb-2022" class="md-nav__link">
    <span class="md-ellipsis">
      27 Feb 2022
    </span>
  </a>
  
    <nav class="md-nav" aria-label="27 Feb 2022">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-views_5" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changed-views_7" class="md-nav__link">
    <span class="md-ellipsis">
      Changed Views
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-transaction-add-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table Transaction add column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-documentdetail-update-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table DocumentDetail Update columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-processstep-data" class="md-nav__link">
    <span class="md-ellipsis">
      Table ProcessStep data
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpac_1" class="md-nav__link">
    <span class="md-ellipsis">
      Accpac:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accpac:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stored-procs-new-fixes" class="md-nav__link">
    <span class="md-ellipsis">
      Stored Procs New &amp; Fixes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-nov-2021" class="md-nav__link">
    <span class="md-ellipsis">
      22 Nov 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="22 Nov 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-users-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table Users new columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-nov-2021" class="md-nav__link">
    <span class="md-ellipsis">
      10 Nov 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10 Nov 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#execute-script-to-add-previous-data-for-documents" class="md-nav__link">
    <span class="md-ellipsis">
      EXECUTE Script to add previous Data for Documents:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accpac_2" class="md-nav__link">
    <span class="md-ellipsis">
      Accpac:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Accpac:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-stored-procs-to-insert-trading-partner" class="md-nav__link">
    <span class="md-ellipsis">
      Update Stored procs to insert trading partner:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pastel-evo" class="md-nav__link">
    <span class="md-ellipsis">
      Pastel Evo:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pastel Evo:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-stored-procs-to-insert-trading-partner_1" class="md-nav__link">
    <span class="md-ellipsis">
      Update Stored procs to insert trading partner:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sap-b1" class="md-nav__link">
    <span class="md-ellipsis">
      SAP B1:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SAP B1:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update-stored-procs-to-insert-trading-partner_2" class="md-nav__link">
    <span class="md-ellipsis">
      Update Stored procs to insert trading partner:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-november-2021" class="md-nav__link">
    <span class="md-ellipsis">
      3 November 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 November 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-tradingpartner-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table TradingPartner new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-tradingpartner-rename-column-name-to-description" class="md-nav__link">
    <span class="md-ellipsis">
      Table TradingPartner rename column Name to Description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-users-new-column" class="md-nav__link">
    <span class="md-ellipsis">
      Table Users new column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-view" class="md-nav__link">
    <span class="md-ellipsis">
      New View
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-view-api_querylocations-remove-0-qty-trackingentities" class="md-nav__link">
    <span class="md-ellipsis">
      Update view API_QueryLocations remove 0 qty trackingentities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-table-type" class="md-nav__link">
    <span class="md-ellipsis">
      Data Table Type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#06-oct-2021" class="md-nav__link">
    <span class="md-ellipsis">
      06 Oct 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="06 Oct 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-transaction-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table Transaction new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-documentdetail-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table DocumentDetail new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-table-status" class="md-nav__link">
    <span class="md-ellipsis">
      Data Table Status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-table-type_1" class="md-nav__link">
    <span class="md-ellipsis">
      Data Table Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-views_6" class="md-nav__link">
    <span class="md-ellipsis">
      New Views
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#07-sep-2021" class="md-nav__link">
    <span class="md-ellipsis">
      07 Sep 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="07 Sep 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-sql-views" class="md-nav__link">
    <span class="md-ellipsis">
      New Sql Views
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#06-sep-2021" class="md-nav__link">
    <span class="md-ellipsis">
      06 Sep 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="06 Sep 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-process-change-column-integrationmethod-varchar-20-to-50" class="md-nav__link">
    <span class="md-ellipsis">
      Table Process change column IntegrationMethod - Varchar 20 to 50
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-stocktakelines-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table StockTakeLines new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pastelevo-database" class="md-nav__link">
    <span class="md-ellipsis">
      PastelEVO Database
    </span>
  </a>
  
    <nav class="md-nav" aria-label="PastelEVO Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#add-scripts-for-pastel-transfer" class="md-nav__link">
    <span class="md-ellipsis">
      Add scripts for Pastel Transfer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fix-stored-proc-integrationprocessworkorder-collate-issue" class="md-nav__link">
    <span class="md-ellipsis">
      Fix Stored Proc IntegrationProcessWorkOrder - collate issue
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-july-2021" class="md-nav__link">
    <span class="md-ellipsis">
      20 July 2021
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#31-march-2021" class="md-nav__link">
    <span class="md-ellipsis">
      31 March 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="31 March 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-process-data-stocktakecount" class="md-nav__link">
    <span class="md-ellipsis">
      New Process Data StockTakeCount
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-process-data-returnpost" class="md-nav__link">
    <span class="md-ellipsis">
      New Process Data ReturnPost
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-march-2021" class="md-nav__link">
    <span class="md-ellipsis">
      16 March 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="16 March 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-processsteplookup-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      Table ProcessStepLookUp new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-processsteplookup_view-new-columns" class="md-nav__link">
    <span class="md-ellipsis">
      View ProcessStepLookUp_View new columns
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-march-2021" class="md-nav__link">
    <span class="md-ellipsis">
      1 March 2021
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-jan-2021" class="md-nav__link">
    <span class="md-ellipsis">
      10 Jan 2021
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10 Jan 2021">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-users-new-columns_1" class="md-nav__link">
    <span class="md-ellipsis">
      Table Users new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-documentdetail-new-columns_1" class="md-nav__link">
    <span class="md-ellipsis">
      Table DocumentDetail new columns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#new-process-data-custom" class="md-nav__link">
    <span class="md-ellipsis">
      New Process Data Custom
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Release notes</h1>

<h2 id="unreleased-500">Unreleased (5.0.0)</h2>
<hr />
<h3 id="granitedatabase">GraniteDatabase</h3>
<h4 id="changed-views">Changed Views</h4>
<h5 id="api_querydocuments">API_QueryDocuments</h5>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryDocuments</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w">        </span><span class="n">TOP</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">PERCENT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">CreateDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Priority</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ERPLocation</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="p">.</span><span class="n">ExpectedDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="p">.</span><span class="n">RouteName</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="p">.</span><span class="n">StopName</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">AuditUser</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">STUFF</span>
<span class="w">                             </span><span class="p">((</span><span class="k">SELECT</span><span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">IntegrationReference</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">))</span>
<span class="w">                                 </span><span class="k">FROM</span><span class="w">            </span><span class="p">[</span><span class="k">Transaction</span><span class="p">]</span>
<span class="w">                                 </span><span class="k">WHERE</span><span class="w">        </span><span class="p">(</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="p">)</span>
<span class="w">                                 </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="w"> </span><span class="k">FOR</span><span class="w"> </span><span class="n">XML</span><span class="w"> </span><span class="n">PATH</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)),</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">IntegrationReference</span>
<span class="k">FROM</span><span class="w">            </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w">  </span><span class="p">([</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;COMPLETE&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">AuditDate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">getdate</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="k">DESC</span>

<span class="k">GO</span>
</code></pre></div>
<h5 id="integration_transactions">Integration_Transactions</h5>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Transactions</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span>
<span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReady</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">UOM</span><span class="p">)</span><span class="w"> </span>
<span class="w">                         </span><span class="k">AS</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOMConversion</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">ERPLocation</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocationERPLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">Location_1</span><span class="p">.</span><span class="n">ERPLocation</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocationERPLocation</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span><span class="n">MasterItem_1</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromCode</span><span class="p">,</span><span class="w"> </span><span class="n">MasterItem_2</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentType</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Description</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">log</span><span class="p">].</span><span class="n">Message</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Cancelled</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentLineCancelled</span><span class="p">,</span><span class="w"> </span><span class="n">Location_1</span><span class="p">.</span><span class="n">Site</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToSite</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">Site</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromSite</span><span class="p">,</span><span class="w"> </span>
<span class="w">                         </span><span class="n">Process</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span>
<span class="w">                         </span><span class="k">CASE</span><span class="w"> </span>
<span class="w">                         </span><span class="k">WHEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;PICKING&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span>
<span class="w">                            </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PICKINGPOST&#39;</span><span class="p">)</span>
<span class="w">                         </span><span class="k">WHEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="w"> </span><span class="o">=</span><span class="s1">&#39;RECEIVING&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w">  </span><span class="k">THEN</span><span class="w"> </span>
<span class="w">                            </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIVINGPOST&#39;</span><span class="p">)</span>
<span class="w">                         </span><span class="k">ELSE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="k">END</span>
<span class="w">                         </span><span class="k">as</span><span class="w"> </span><span class="n">IntegrationIsActive</span><span class="p">,</span><span class="w"> </span>

<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentTradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TransactionDocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span>
<span class="k">FROM</span><span class="w">            </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Location_1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Location_1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItem_1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromMasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem_1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItem_2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToMasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem_2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">                         </span><span class="p">(</span>
<span class="w">                             </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">Message</span><span class="p">]</span>
<span class="w">                             </span><span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationLog</span>
<span class="w">                             </span><span class="k">WHERE</span><span class="w"> </span><span class="n">GraniteTransaction_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span>
<span class="w">                             </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="nb">Date</span><span class="p">]</span><span class="w"> </span><span class="k">DESC</span>
<span class="w">                         </span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="n">log</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w">       </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;SPLIT&#39;</span><span class="p">,</span><span class="s1">&#39;QCHOLD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;QCRELEASE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STOCKTAKE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STOCKTAKEHOLD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STOCKTAKERELEASE&#39;</span><span class="p">)</span><span class="w">  </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">IntegrationStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">table_1</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">table_1</span><span class="p">.</span><span class="n">IntegrationIsActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h5 id="api_querytransactionsreceivereversal">API_QueryTransactionsReceiveReversal</h5>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsReceiveReversal</span><span class="p">]</span>
<span class="w">    </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].[</span><span class="n">User_id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">CROSS</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">         </span><span class="p">(</span>
<span class="w">             </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ID</span>
<span class="w">             </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span>
<span class="w">             </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span>
<span class="w">             </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="nb">Date</span><span class="p">]</span><span class="w"> </span><span class="k">DESC</span>
<span class="w">         </span><span class="p">)</span><span class="w"> </span><span class="n">lastTransaction</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIVE&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">lastTransaction</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="datagrid_stockavailable">DataGrid_StockAvailable</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">DataGrid_StockAvailable</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemId</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">Code</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemCode</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">Description</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemDescription</span><span class="p">,</span>
<span class="w">       </span><span class="n">MasterItem</span><span class="p">.</span><span class="k">Type</span><span class="p">,</span>
<span class="w">       </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="p">,</span>
<span class="w">       </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;InStock&#39;</span>
<span class="w">            </span><span class="k">WHEN</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;NoStock&#39;</span>
<span class="w">            </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;NoStock&#39;</span>
<span class="w">            </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Status</span>
<span class="w">       </span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyInWarehouse</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnSalesOrders</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnPurchaceOrders</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">((</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)),</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyAfterSales</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">((</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)),</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyAfterPurchaces</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">((</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)),</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">0000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TotalQtyAvailable</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">MasterItem</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">     </span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">     </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">ActionQty</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrderQty</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">           </span><span class="n">Document</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document</span><span class="p">.</span><span class="n">ID</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Completed</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Cancelled</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="n">Status</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ENTERED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RELEASED&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ORDER&#39;</span>
<span class="w">      </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">Item_id</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrders</span>
<span class="w">      </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">     </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">ActionQty</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PurchaseOrderQty</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">           </span><span class="n">Document</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document</span><span class="p">.</span><span class="n">ID</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Completed</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Cancelled</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="n">Status</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ENTERED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RELEASED&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIVING&#39;</span>
<span class="w">      </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">Item_id</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PurchaseOrders</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">isActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="k">GO</span>
</code></pre></div>
<h4 id="new-tables">New tables</h4>
<h5 id="migration">Migration</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Migration</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">Id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">CreatedDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">CompletedDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ConnectionString</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">NamedConnection</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Log</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ErrorCode</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ErrorMessage</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">8000</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ErrorStackTrace</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Meta</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">Id</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span><span class="w"> </span><span class="n">TEXTIMAGE_ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
</code></pre></div>
<h5 id="optionalfieldvalues_location">OptionalFieldValues_Location</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Location</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">nvarchar</span><span class="p">](</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">OptionalField_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">BelongsTo_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Location</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E8FA</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">OptionalField_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFields</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Location</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E8FA</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Location</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509605E</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">BelongsTo_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="k">Location</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Location</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509605E</span><span class="p">]</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="optionalfieldvalues_document">OptionalFieldValues_Document</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Document</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">nvarchar</span><span class="p">](</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">OptionalField_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">BelongsTo_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Document</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E1FA</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">OptionalField_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFields</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Document</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E1FA</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Document</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509601E</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">BelongsTo_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_Document</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509601E</span><span class="p">]</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="optionalfieldvalues_documentdetail">OptionalFieldValues_DocumentDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_DocumentDetail</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">nvarchar</span><span class="p">](</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">OptionalField_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">BelongsTo_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_DocumentDetail</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E1FB</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">OptionalField_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFields</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_DocumentDetail</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA95BD9E1FB</span><span class="p">]</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_DocumentDetail</span><span class="p">]</span><span class="w">  </span><span class="k">WITH</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">ADD</span><span class="w">  </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509601A</span><span class="p">]</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="p">([</span><span class="n">BelongsTo_id</span><span class="p">])</span>
<span class="k">REFERENCES</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">])</span>
<span class="k">GO</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">OptionalFieldValues_DocumentDetail</span><span class="p">]</span><span class="w"> </span><span class="k">CHECK</span><span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">FK1C630FA96509601A</span><span class="p">]</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="systemtransientdata">SystemTransientData</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemTransientData</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Group</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Key</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Value_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">ProcessStep</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DataExpiry</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">)</span>
</code></pre></div>
<h5 id="email">Email</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Email</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Subject</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">150</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Body</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ToEmailAddresses</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">CcEmailAddresses</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">BccEmailAddresses</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">TemplateName</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">TemplateParameters</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AttachmentPaths</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ReportAttachments</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ExcelAttachments</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">FileAttachments</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">CreateDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">RequestDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">RequestApplication</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">SendDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">NumberOfRetries</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">int</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">    </span>
<span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">PK_Emails</span><span class="p">]</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span><span class="w"> </span><span class="n">TEXTIMAGE_ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
</code></pre></div>
<h5 id="emaillog">EmailLog</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">EmailLog</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Email_id</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">Email</span><span class="p">(</span><span class="n">ID</span><span class="p">),</span>
<span class="w">    </span><span class="p">[</span><span class="nb">Date</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Message</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w">  </span>
<span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">PK_EmailLog</span><span class="p">]</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span>
<span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span><span class="w"> </span><span class="n">TEXTIMAGE_ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
</code></pre></div>
<h5 id="emailtemplate">EmailTemplate</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">EmailTemplate</span><span class="p">](</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">150</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Definition</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="k">max</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Format</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">int</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">PK_EmailTemplate</span><span class="p">]</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">CLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">],</span>
<span class="w"> </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">IX_EmailTemplate</span><span class="p">]</span><span class="w"> </span><span class="k">UNIQUE</span><span class="w"> </span><span class="n">NONCLUSTERED</span><span class="w"> </span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="k">ASC</span>
<span class="p">)</span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">PAD_INDEX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">STATISTICS_NORECOMPUTE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">IGNORE_DUP_KEY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">OFF</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_ROW_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">,</span><span class="w"> </span><span class="n">ALLOW_PAGE_LOCKS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">ON</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
<span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span><span class="w"> </span><span class="n">TEXTIMAGE_ON</span><span class="w"> </span><span class="p">[</span><span class="k">PRIMARY</span><span class="p">]</span>
</code></pre></div>
<h4 id="changed-tables">Changed tables</h4>
<h5 id="users">Users</h5>
<p>Add column AllowProcessCatalog
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">AllowProcessCatalog</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="systemsettings">SystemSettings</h5>
<p>Add column EncryptionKey
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">EncryptionKey</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="process">Process</h5>
<p>Increase size of Process Name and Description, add Template_version and Template_id
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">Template_version</span><span class="p">]</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="p">[</span><span class="n">Template_id</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
</code></pre></div></p>
<h5 id="processmembers">ProcessMembers</h5>
<p>Increase size of Process column
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="processstep">ProcessStep</h5>
<p>Increase size of Process column
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="transaction">Transaction</h5>
<p>Increase size of Process column
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="processsteplookup">ProcessStepLookup</h5>
<p>Increase size of Process column
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h5 id="processsteplookupdynamic">ProcessStepLookupDynamic</h5>
<p>Increase size of Process column
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<h4 id="removed-stored-procedures">Removed Stored Procedures</h4>
<h5 id="emailtemplate_1">EmailTemplate</h5>
<p>Removed as Scheduler no longer sends emails using stored procedures</p>
<h4 id="new-data">New Data</h4>
<h5 id="migration-data">Migration Data</h5>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">Migration</span><span class="w"> </span><span class="p">([</span><span class="n">Name</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Log</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">CreatedDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">CompletedDate</span><span class="p">])</span>
<span class="k">VALUES</span><span class="w">  </span><span class="p">(</span><span class="s1">&#39;SCHEMA_500&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Schema Version 5.0.0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Initialised by database create script&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;DATA_500&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Data Version 5.0.0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Initialised by database create script&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;CLR_500&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CLR Version 5.0.0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Initialised by database create script&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">())</span>
</code></pre></div>
<h5 id="emailtemplate-data">EmailTemplate Data</h5>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">EmailTemplate</span><span class="p">]</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">[</span><span class="n">Name</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Definition</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Format</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">])</span><span class="w"> </span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;IntegrationError&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;This template is used by Scheduler injected jobs to notify of a failed document sync&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;{{</span>
<span class="s1">  headerImage({</span>
<span class="s1">    imageUrl:&#39;&#39;https://www.granitewms.com/wp-content/uploads/2020/07/GraniteWMS-1.png&#39;&#39;,</span>
<span class="s1">    backgroundColor:&#39;&#39;#182026&#39;&#39;</span>
<span class="s1">  })</span>
<span class="s1">}}</span>

<span class="s1"># Document {{documentNumber}} failed to sync</span>

<span class="s1">{{#if documentLogs}}</span>
<span class="s1">### Document header failed to sync:</span>
<span class="s1">{{documentLogs}}</span>
<span class="s1">{{/if}}</span>

<span class="s1">{{#if documentDetailLogs}}</span>
<span class="s1">### Document details failed to sync:</span>
<span class="s1">{{documentDetailLogs}}</span>
<span class="s1">{{/if}}&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;markdown&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<h5 id="systemsettings_1">SystemSettings</h5>
<ul>
<li>Add SQLCLR UtilityApi setting</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemSettings</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span>
<span class="p">(</span><span class="s1">&#39;SQLCLR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;UtilityApi&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Utility API Address&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div>
<ul>
<li>
<p>Add Custodian SystemSettings:
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">,</span><span class="w"> </span><span class="n">EncryptionKey</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span>
<span class="p">(</span><span class="s1">&#39;GRANITECUSTODIAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Repo_id&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;gVYmRwrftflB7Ffr3FCq2cv2555odnaHqww9lmtAv+w=&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3SsPIaHkYgQdiMhgeRsMpA==&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;GRANITECUSTODIAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Token&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;qlL0OC2DjetOxQWFfaVHomADvFcjHqJsmRwCDly5SjArj7JRpAV5r3mAwPSBbn21ZpOtvv75Ht388lYtkTQJe3AYb6XrSPU7w26SB+TU9230WeCGpBouYdMSiZbva3v7E3DU4TVpFDn5o8vxKtDLh8NLnyfNS4X0aY9hGWBoR0Wqsn1xuAm7bWQwtzT74sl1XVM69BQYYyglDLD10sZykvCC9aJOdkMUGWKNVY+7Ra1YznwLJskxqU4WR6dxo2y6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3SsPIaHkYgQdiMhgeRsMpA==&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;GRANITECUSTODIAN&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Stores&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Approved,Draft&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Add GraniteScheduler UtilityApiUrl setting:
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemSettings</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span>
<span class="k">VALUES</span><span class="w">  </span><span class="p">(</span><span class="s1">&#39;GraniteScheduler&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;UtilityApiUrl&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The UtilityAPI URL&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>Add Utility API System Settings:
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemSettings</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span><span class="w"> </span>
<span class="k">VALUES</span><span class="w">  </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;UserName&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Username for the SMTP server&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Password&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Password for the SMTP server&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Host&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The address of the SMTP server&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Port&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Port number to be used when accessing the SMTP server&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EnableSsl&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Use SSL when accessing the SMTP server. True or False&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;From&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Email address that will be used to send mail&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;FromName&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The sender name that will display to users who receive emails&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RetryInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;15&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Number of seconds to wait before retrying processing an email&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MaxNumberOfRetries&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Maximum number of times to retry processing an email&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EmailAttachmentFolder&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Full filepath to folder to export email attachments to. Leave empty to use the Utility API install folder&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Granite.Utility&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SSRSWebServiceUrl&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;URL for SSRS Report Server&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>QuickBooks Integration
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span><span class="w"> </span>
<span class="k">VALUES</span><span class="w">  </span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;QuickBooksCompanyFile&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;File path to the QuickBooks company file&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;MasterItemSyncEnable&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enables syncing MasterItems from QuickBooks to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;MasterItemSyncInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Interval to sync MasterItems at. Measured in seconds&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;MasterItemSyncInventoryItems&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;true&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enable or disable syncing Inventory Items&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;MasterItemSyncAssemblyItems&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;true&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enable or disable syncing Assembly Items&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;MasterItemSyncServiceItems&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;true&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enable or disable syncing Service Items&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;SalesOrderSyncEnable&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enables syncing Sales Orders from QuickBooks to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;SalesOrderSyncInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Interval to sync Sales Orders at. Measured in seconds&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;SalesOrderPrefix&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Prefix that will be applied to Sales Order numbers when they are synced to Granite.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;SalesOrderAfterHeaderSyncProcedure&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Name of stored procedure that will run after each SalesOrder header is synced to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;InvoiceSyncEnable&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enables syncing Invoices from QuickBooks to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;InvoiceSyncInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Interval to sync Invoices at. Measured in seconds&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;InvoicePrefix&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Prefix that will be applied to Invoice numbers when they are synced to Granite.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;InvoiceAfterHeaderSyncProcedure&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Name of stored procedure that will run after each Invoice header is synced to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;PurchaseOrderSyncEnable&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enables syncing Purchase Orders from QuickBooks to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;PurchaseOrderSyncInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Interval to sync Purchase Orders at. Measured in seconds&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;PurchaseOrderPrefix&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Prefix that will be applied to Purchase Order numbers when they are synced to Granite.&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;PurchaseOrderAfterHeaderSyncProcedure&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Name of stored procedure that will run after each PurchaseOrder header is synced to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;TradingPartnerSyncEnable&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Enables syncing TradingPartners from QuickBooks to Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;bool&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="n">N</span><span class="s1">&#39;IntegrationQuickBooks&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;TradingPartnerSyncInterval&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;300&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;Interval to sync TradingPartners at. Measured in seconds&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;int&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">N</span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></p>
</li>
</ul>
<h4 id="changed-data">Changed Data</h4>
<h5 id="users_1">Users</h5>
<ul>
<li>Add AllowProcessCatalog permission</li>
</ul>
<h5 id="defaultreplenishprocess">DefaultReplenishProcess</h5>
<ul>
<li>Add NoEntities step</li>
</ul>
<h5 id="systemsettings_2">SystemSettings</h5>
<ul>
<li>Removed GraniteScheduler settings:<ul>
<li>Host</li>
<li>Port</li>
<li>EnableSsl</li>
<li>EmailAddress</li>
<li>Username</li>
<li>Password</li>
<li>DisplayName</li>
<li>TimeZone</li>
</ul>
</li>
<li>All password settings isEncrypted = true</li>
</ul>
<h5 id="applicationgrids">ApplicationGrids</h5>
<ul>
<li>Added missing document fields to grids</li>
<li>Remove SystemSettings grid</li>
</ul>
<h3 id="accpacintegration">AccpacIntegration</h3>
<h4 id="changed-views_1">Changed Views</h4>
<h5 id="integration_accpac_autosimplymodetail">Integration_Accpac_AutoSimplyMODetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_AutoSimplyMODetail</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">MOUNIQ</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ITEMNO</span><span class="p">]</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ORDQTYUM</span><span class="p">]</span><span class="w"> </span><span class="n">UOMQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ORDQTY</span><span class="p">]</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">STKUOM</span><span class="p">]</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="n">UOMConversion</span><span class="p">,</span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">(</span><span class="n">AREACD</span><span class="p">))</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="n">Completed</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;OUTPUT&#39;</span><span class="w"> </span><span class="p">[</span><span class="k">Type</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="n">COMMENTS</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Instruction</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ITEMDESC</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Comment</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">MFORDH</span><span class="p">]</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
<span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">MOUNIQ</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">COMPID</span><span class="p">]</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">LINENUM</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="n">LINENUM</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">REQQTY</span><span class="p">]</span><span class="w"> </span><span class="n">UOMQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">REQQTY</span><span class="p">]</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">COMPUOM</span><span class="p">]</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="mi">1</span><span class="w"> </span><span class="n">UOMConversion</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">([</span><span class="k">LOCATION</span><span class="p">]))</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w">      </span>
<span class="w">        </span><span class="mi">0</span><span class="w"> </span><span class="n">Completed</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;INPUT&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">[</span><span class="k">Type</span><span class="p">],</span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Instruction</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">COMPDESC</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Comment</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">MFORDD</span><span class="p">]</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
</code></pre></div>
<h5 id="integration_accpac_internalusagedetail">Integration_Accpac_InternalUsageDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_InternalUsageDetail</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w">  </span><span class="p">[</span><span class="n">SEQUENCENO</span><span class="p">]</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="k">LOCATION</span><span class="p">]</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">QUANTITY</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">ITEMNO</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="n">COMMENTS</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">Comment</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICICED</span><span class="p">]</span><span class="w"> </span>
</code></pre></div>
<h5 id="integration_accpac_intransitdetail">Integration_Accpac_IntransitDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_IntransitDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">FROMLOC</span><span class="p">)</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">TOLOC</span><span class="p">)</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">GITLOC</span><span class="p">)</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">QTYREQ</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">ITEMNO</span><span class="p">)</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">COMMENTS</span><span class="p">)</span><span class="w"> </span><span class="k">Comment</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="n">Document_ERPIdentification</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRED</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTREH</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRED</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].</span><span class="n">DOCTYPE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>
<h5 id="integration_accpac_purchaseorderdetail">Integration_Accpac_PurchaseOrderDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_PurchaseOrderDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">PORLREV</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">SQORDERED</span><span class="p">]</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="n">ORDERUNIT</span><span class="p">])</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">ORDERCONV</span><span class="p">]</span><span class="w"> </span><span class="n">UOMConversion</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">OQORDERED</span><span class="p">]</span><span class="w"> </span><span class="n">UOMQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="k">LOCATION</span><span class="p">])</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span>
<span class="w">        </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="k">COMPLETION</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="n">Completed</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="n">ITEMNO</span><span class="p">])</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">ROUND</span><span class="p">(</span><span class="n">UNITCOST</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">UnitValue</span><span class="p">,</span>
<span class="w">        </span><span class="n">PORHSEQ</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="n">PORLREV</span><span class="w"> </span><span class="n">ERPIdentification</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">POPORL</span><span class="p">]</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">STOCKITEM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h5 id="integration_accpac_receiptdetail">Integration_Accpac_ReceiptDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_ReceiptDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">FROMLOC</span><span class="p">)</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">TOLOC</span><span class="p">)</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">GITLOC</span><span class="p">)</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">QTYTRA</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">ITEMNO</span><span class="p">)</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">COMMENTS</span><span class="p">)</span><span class="w"> </span><span class="k">Comment</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="n">Document_ERPIdentification</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRED</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTREH</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRED</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRID</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRED</span><span class="p">].</span><span class="n">DETAILNUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRID</span><span class="p">].</span><span class="n">DETAILNUM</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].</span><span class="n">FROMNUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRID</span><span class="p">].</span><span class="n">DOCNUM</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].</span><span class="n">DOCTYPE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
</code></pre></div>
<h5 id="integration_accpac_salesorderdetail">Integration_Accpac_SalesOrderDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_SalesOrderDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">ORDUNIQ</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="n">LINENUM</span><span class="w"> </span><span class="p">[</span><span class="n">LineNumber</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="n">LINENUM</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">([</span><span class="n">UNITCONV</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">([</span><span class="n">QTYORDERED</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">QTYSHPTODT</span><span class="p">]))</span><span class="w"> </span><span class="n">UOMQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">QTYORDERED</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="n">QTYSHPTODT</span><span class="p">]</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="n">ORDUNIT</span><span class="p">])</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">UNITCONV</span><span class="p">]</span><span class="w"> </span><span class="n">UOMConversion</span><span class="p">,</span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="k">LOCATION</span><span class="p">])</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">([</span><span class="n">ITEM</span><span class="p">])</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">COMPLETE</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">END</span><span class="w">  </span><span class="n">Completed</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">OEORDD</span><span class="p">]</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">STOCKITEM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h5 id="integration_accpac_transferdetail">Integration_Accpac_TransferDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">Integration_Accpac_TransferDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">FROMLOC</span><span class="p">)</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">TOLOC</span><span class="p">)</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">GITLOC</span><span class="p">)</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">QTYREQ</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">ITEMNO</span><span class="p">)</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">COMMENTS</span><span class="p">)</span><span class="w"> </span><span class="k">Comment</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">LINENO</span><span class="p">]</span><span class="w"> </span><span class="n">ERPIdentification</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRED</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTREH</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="n">ICTRED</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].[</span><span class="n">TRANFENSEQ</span><span class="p">]</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">ICTREH</span><span class="p">].</span><span class="n">DOCTYPE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h5 id="masteritemalias_view">MasterItemAlias_View</h5>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MasterItemAlias_View</span><span class="p">]</span>

<span class="w">    </span><span class="k">AS</span><span class="w"> </span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">ROW_NUMBER</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span>
<span class="k">CAST</span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">MANITEMNO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Code</span><span class="p">,</span><span class="w"> </span>
<span class="k">CAST</span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="k">CONVERSION</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Conversion</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">bit</span><span class="p">)</span><span class="k">as</span><span class="w"> </span><span class="n">IsActive</span><span class="p">,</span><span class="w"> </span>
<span class="n">GETDATE</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">,</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItem_id</span><span class="p">,</span><span class="k">NULL</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="mi">0</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Version</span>
<span class="k">FROM</span><span class="w">         </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="p">.</span><span class="n">ITEMNO</span>
<span class="k">WHERE</span><span class="w">     </span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">MANITEMNO</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="k">SELECT</span><span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItemAlias</span>
<span class="k">GO</span>
</code></pre></div>
<h4 id="changed-stored-procedures">Changed Stored Procedures</h4>
<h5 id="integrationprocesstransfer">IntegrationProcessTransfer</h5>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">PROCEDURE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">IntegrationProcessTransfer</span><span class="p">]</span>
<span class="w">    </span><span class="c1">-- Add the parameters for the stored procedure here</span>

<span class="k">AS</span>
<span class="k">BEGIN</span>
<span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="n">NOCOUNT</span><span class="w"> </span><span class="k">ON</span><span class="p">;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Debug</span><span class="w"> </span><span class="nb">Bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="nb">bigint</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartner_id</span><span class="w"> </span><span class="nb">bigint</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerDescription</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">AccpacReference</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerReferenceNumber</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ToLocation</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Description</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Priority</span><span class="w"> </span><span class="nb">int</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ERPLocation</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Site</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">  </span><span class="c1">--Code required to determine the SITE</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INTEGRATION&#39;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="nb">Date</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">()</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TRANSFER&#39;</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">AccpacType</span><span class="w"> </span><span class="nb">int</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorMessage</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">NULL</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="w"> </span><span class="nb">INT</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="w"> </span><span class="nb">INT</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ExpectedShipDate</span><span class="w"> </span><span class="n">DateTime</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">19</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">GraniteOrderStatus</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">GraniteDocumentType</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_FROMNUM</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">COMMENTS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">DETAILNUM</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">FROMLOC</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">TOLOC</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">GITLOC</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYREC</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QUANTITY</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYTRA</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="w"> </span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMNO</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMID</span><span class="w"> </span><span class="nb">bigint</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">GRANITELINEID</span><span class="w"> </span><span class="nb">bigint</span>

<span class="w">    </span><span class="c1">--Declare cursor for all Documents to be integrated.</span>

<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span><span class="w"> </span><span class="k">CURSOR</span><span class="w"> </span><span class="k">FOR</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w">   </span><span class="n">ERP_id</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">DocumentType</span><span class="p">]</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationDocumentQueue</span><span class="w"> </span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">[</span><span class="n">DocumentType</span><span class="p">]</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;TRANSFER&#39;</span><span class="p">,</span><span class="s1">&#39;INTRANSIT&#39;</span><span class="p">,</span><span class="s1">&#39;RECEIPT&#39;</span><span class="p">)</span>

<span class="w">    </span><span class="k">OPEN</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span>
<span class="w">    </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span>
<span class="w">    </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span>

<span class="w">    </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@@</span><span class="n">FETCH_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">BEGIN</span>

<span class="w">        </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationDocumentQueue</span><span class="w"> </span>
<span class="w">        </span><span class="k">SET</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;POSTING&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">IntegrationDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getdate</span><span class="p">()</span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">[</span><span class="n">DocumentType</span><span class="p">]</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;TRANSFER&#39;</span><span class="p">,</span><span class="s1">&#39;INTRANSIT&#39;</span><span class="p">,</span><span class="s1">&#39;RECEIPT&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">ERP_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span>


<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">([</span><span class="n">DOCNUM</span><span class="p">]))</span><span class="w"> </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">Description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HDRDESC</span><span class="w"> </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">AccpacReference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">REFERENCE</span><span class="w">  </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="p">,</span>
<span class="w">        </span><span class="o">@</span><span class="n">ACCPAC_FROMNUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FROMNUM</span><span class="w"> </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="p">,</span>
<span class="w">        </span><span class="o">@</span><span class="n">ExpectedShipDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">EXPARDATE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="k">CONVERT</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">EXPARDATE</span><span class="p">))</span><span class="w"> </span><span class="k">END</span><span class="p">,</span>
<span class="w">        </span><span class="o">@</span><span class="n">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTREH</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TRANFENSEQ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span>

<span class="w">        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">            </span><span class="n">PRINT</span><span class="w"> </span><span class="s1">&#39;IN Cursor -Record found:&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span>

<span class="w">                </span><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
<span class="w">                    </span><span class="k">BEGIN</span><span class="w"> </span><span class="k">TRANSACTION</span>
<span class="w">                    </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                        </span><span class="n">PRINT</span><span class="w"> </span><span class="s1">&#39;In Try and Transaction block&#39;</span>

<span class="w">                    </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TOP</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">@</span><span class="n">ERPLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">FROMLOC</span><span class="p">],</span><span class="w"> </span><span class="o">@</span><span class="n">ToLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">TOLOC</span><span class="p">]</span><span class="w"> </span>
<span class="w">                    </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRED</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">Nolock</span><span class="p">)</span><span class="w"> </span>
<span class="w">                    </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span>

<span class="w">                    </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIPT&#39;</span><span class="w">        </span><span class="c1">--If the Document is a Receipt then set the ERPLocation to the TOLocation</span>
<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">ERPLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ToLocation</span>


<span class="w">                    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ERPLocation</span>
<span class="w">                    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerDescription</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TRANSFER TO WHSE:&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39; TO WHSE:&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">isnull</span><span class="p">(</span><span class="o">@</span><span class="n">ToLocation</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="w">                    </span><span class="c1">-- Insert TradingPartner</span>
<span class="w">                    </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartner_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">TradingPartner</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">DocumentType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span>
<span class="w">                    </span><span class="k">IF</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">TradingPartner_id</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">                    </span><span class="k">BEGIN</span>
<span class="w">                        </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">TradingPartner</span>
<span class="w">                        </span><span class="p">(</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">DocumentType</span><span class="p">,</span><span class="w"> </span><span class="n">isActive</span><span class="p">,</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">                        </span><span class="k">VALUES</span>
<span class="w">                        </span><span class="p">(</span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">GraniteDocumentType</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="p">)</span>
<span class="w">                    </span><span class="k">END</span>

<span class="w">                    </span><span class="c1">--======Update the Document Header table or insert the Document Header accordingly</span>
<span class="w">                    </span><span class="k">IF</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="nb">Number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span><span class="p">)</span>
<span class="w">                    </span><span class="k">BEGIN</span>

<span class="w">                        </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">ERPLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ERPLocation</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">Site</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span>
<span class="w">                        </span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">TradingPartnerDescription</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerDescription</span><span class="p">,</span>
<span class="w">                        </span><span class="n">AuditDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="w"> </span><span class="p">,[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="o">@</span><span class="n">ACCPAC_FROMNUM</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;--&#39;</span><span class="o">+</span><span class="w"> </span><span class="o">@</span><span class="n">Description</span>
<span class="w">                        </span><span class="k">WHERE</span><span class="w"> </span><span class="nb">Number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span>

<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">GraniteOrderStatus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span>
<span class="w">                        </span><span class="k">WHERE</span><span class="w"> </span><span class="nb">Number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span>

<span class="w">                        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ONHOLD&#39;</span><span class="p">,</span><span class="s1">&#39;COMPLETE&#39;</span><span class="p">,</span><span class="s1">&#39;CANCELLED&#39;</span><span class="p">)</span>
<span class="w">                            </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="p">,</span><span class="n">ExpectedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ExpectedShipDate</span>
<span class="w">                            </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span>
<span class="w">                        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="o">@</span><span class="n">GraniteOrderStatus</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;RELEASED&#39;</span><span class="p">,</span><span class="s1">&#39;COMPLETE&#39;</span><span class="p">)</span>
<span class="w">                            </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">ExpectedDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ExpectedShipDate</span>
<span class="w">                            </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span>

<span class="w">                    </span><span class="k">END</span>
<span class="w">                    </span><span class="k">ELSE</span>
<span class="w">                    </span><span class="k">BEGIN</span>
<span class="w">                        </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="p">(</span><span class="nb">Number</span><span class="p">,[</span><span class="n">Description</span><span class="p">],</span><span class="n">CreateDate</span><span class="p">,</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">ERPLocation</span><span class="p">,[</span><span class="n">Site</span><span class="p">],</span>
<span class="w">                        </span><span class="n">AuditDate</span><span class="p">,</span><span class="n">AuditUser</span><span class="p">,[</span><span class="k">Type</span><span class="p">],[</span><span class="n">Status</span><span class="p">],</span><span class="n">ExpectedDate</span><span class="p">,</span><span class="n">isActive</span><span class="p">)</span>
<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span><span class="p">,</span><span class="w">  </span><span class="o">@</span><span class="n">ACCPAC_FROMNUM</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;--&#39;</span><span class="o">+</span><span class="w"> </span><span class="o">@</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ERPLocation</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span>
<span class="w">                        </span><span class="o">@</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Status</span><span class="w"> </span><span class="p">,</span><span class="o">@</span><span class="n">ExpectedShipDate</span><span class="p">,</span><span class="mi">1</span>

<span class="w">                        </span><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">Document</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="nb">Number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentNumber</span><span class="p">)</span>
<span class="w">                        </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                            </span><span class="n">PRINT</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span>

<span class="w">                    </span><span class="k">END</span>
<span class="w">                    </span><span class="c1">--=======End DOcument Header Section=============================================== </span>

<span class="w">                    </span><span class="c1">--=====Start Inserting or Updaing the items depending on whether they exists or not</span>

<span class="w">                    </span><span class="k">IF</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">Document_id</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;&#39;</span>
<span class="w">                    </span><span class="k">BEGIN</span>
<span class="w">                        </span><span class="c1">--Update Existing Granite Lines</span>
<span class="w">                        </span><span class="c1">--We know these Lines Exist Because of the Inner Join</span>
<span class="w">                        </span><span class="k">DECLARE</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="k">CURSOR</span><span class="w"> </span><span class="k">FOR</span>
<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="p">[</span><span class="n">LINENO</span><span class="p">],</span><span class="w"> </span><span class="n">DETAILNUM</span><span class="p">,</span><span class="w"> </span><span class="n">FROMLOC</span><span class="p">,</span><span class="w"> </span><span class="n">TOLOC</span><span class="p">,</span><span class="w"> </span><span class="n">GITLOC</span><span class="p">,</span><span class="w"> </span><span class="n">QTYREQ</span><span class="p">,</span><span class="w"> </span><span class="n">QUANTITY</span><span class="p">,</span><span class="w"> </span><span class="n">ITEMNO</span><span class="p">,</span><span class="n">COMMENTS</span><span class="w">  </span>
<span class="w">                        </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">ICTRED</span><span class="p">]</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span><span class="w"> </span>
<span class="w">                        </span><span class="k">WHERE</span><span class="w">  </span><span class="p">[</span><span class="n">TRANFENSEQ</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span>
<span class="w">                        </span><span class="k">OPEN</span><span class="w"> </span><span class="n">detail</span><span class="p">;</span>

<span class="w">                        </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span>
<span class="w">                        </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DETAILNUM</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">FROMLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TOLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">GITLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYREC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QUANTITY</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMNO</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">COMMENTS</span><span class="p">;</span>
<span class="w">                        </span><span class="n">WHILE</span><span class="w"> </span><span class="o">@@</span><span class="n">FETCH_STATUS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">                        </span><span class="k">BEGIN</span>

<span class="w">                        </span><span class="cm">/*GET GRANITE ITEM ID*/</span>
<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">FORMATTEDCODE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMNO</span>

<span class="w">                        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">GRANITELINEID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span>
<span class="w">                        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">DOCUMENT_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ITEM_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">LineNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span>

<span class="w">                        </span><span class="k">IF</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">GRANITELINEID</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">                        </span><span class="k">BEGIN</span>
<span class="w">                            </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIPT&#39;</span>
<span class="w">                            </span><span class="k">BEGIN</span>
<span class="w">                                </span><span class="c1">-- Fetch qty from Table ICTRID, based on TRANSFER (FROMNUM = @ACCPAC_FROMNUM)</span>
<span class="w">                                </span><span class="c1">-- QTYTRA = Quantity Transfer to Date</span>

<span class="w">                                </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYTRA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">QTYTRA</span>
<span class="w">                                </span><span class="k">FROM</span><span class="w">  </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICTRID</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="p">(</span><span class="n">nolock</span><span class="p">)</span>
<span class="w">                                </span><span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">DOCNUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_FROMNUM</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="n">DETAILNUM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">DETAILNUM</span><span class="p">)</span>

<span class="w">                                </span><span class="c1">--RECEIPT use QUANTITY this is the transfer qty instead of the requested original qty, can only receipt what was actual transfer</span>
<span class="w">                                </span><span class="c1">--The from location becomes the transit location, I leave the transit no need in granite</span>
<span class="w">                                </span><span class="c1">--@ACCPAC_QUANTITY</span>
<span class="w">                                </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span>
<span class="w">                                    </span><span class="p">(</span><span class="n">ITEM_ID</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="k">COMMENT</span><span class="p">],</span><span class="w"> </span><span class="n">LINENUMBER</span><span class="p">,</span><span class="w"> </span><span class="n">FROMLOCATION</span><span class="p">,</span><span class="w"> </span><span class="n">TOLOCATION</span><span class="p">,</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span><span class="n">QTY</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                    </span><span class="n">DOCUMENT_ID</span><span class="p">,</span><span class="w"> </span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">Completed</span><span class="p">,</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">                                        </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">ITEMID</span><span class="p">,</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="o">@</span><span class="n">COMMENTS</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">FROMLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TOLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">GITLOC</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                        </span><span class="o">@</span><span class="n">ACCPAC_QTYTRA</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="n">GETDATE</span><span class="p">(),</span><span class="o">@</span><span class="k">User</span><span class="p">)</span>
<span class="w">                            </span><span class="k">END</span>
<span class="w">                            </span><span class="k">ELSE</span>
<span class="w">                            </span><span class="k">BEGIN</span>
<span class="w">                                </span><span class="c1">--@ACCPAC_QTYREC</span>
<span class="w">                                </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span>
<span class="w">                                </span><span class="p">(</span><span class="n">ITEM_ID</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="k">COMMENT</span><span class="p">],</span><span class="w"> </span><span class="n">LINENUMBER</span><span class="p">,</span><span class="w"> </span><span class="n">FROMLOCATION</span><span class="p">,</span><span class="w"> </span><span class="n">TOLOCATION</span><span class="p">,</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span><span class="n">QTY</span><span class="p">,</span><span class="w"> </span>
<span class="w">                                </span><span class="n">DOCUMENT_ID</span><span class="p">,</span><span class="w"> </span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">Completed</span><span class="p">,</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">                                    </span><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">ITEMID</span><span class="p">,</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="o">@</span><span class="n">COMMENTS</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">50</span><span class="p">),</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span><span class="p">,</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">FROMLOC</span><span class="p">),</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">TOLOC</span><span class="p">),</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">GITLOC</span><span class="p">),</span><span class="w"> </span>
<span class="w">                                    </span><span class="o">@</span><span class="n">ACCPAC_QTYREC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="k">User</span><span class="p">)</span>
<span class="w">                            </span><span class="k">END</span>
<span class="w">                        </span><span class="k">END</span>
<span class="w">                        </span><span class="k">ELSE</span>
<span class="w">                        </span><span class="k">BEGIN</span>
<span class="w">                            </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span><span class="k">SET</span>
<span class="w">                            </span><span class="p">[</span><span class="n">Qty</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYREC</span><span class="p">,</span><span class="w"> </span><span class="n">Completed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ToLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">TOLOC</span><span class="p">),</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">GITLOC</span><span class="p">),</span>
<span class="w">                            </span><span class="p">[</span><span class="n">FromLocation</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="o">@</span><span class="n">FROMLOC</span><span class="p">),</span><span class="w"> </span><span class="n">AuditDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="n">AuditUser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="k">User</span>
<span class="w">                            </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">DocumentDetail</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">GRANITELINEID</span>
<span class="w">                        </span><span class="k">END</span>
<span class="w">                        </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span>
<span class="w">                        </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">LINE</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DETAILNUM</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">FROMLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">TOLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">GITLOC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QTYREC</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ACCPAC_QUANTITY</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ITEMNO</span><span class="p">,</span><span class="o">@</span><span class="n">COMMENTS</span><span class="p">;</span>
<span class="w">                        </span><span class="k">END</span>
<span class="w">                        </span><span class="k">CLOSE</span><span class="w"> </span><span class="n">detail</span><span class="p">;</span>
<span class="w">                        </span><span class="k">DEALLOCATE</span><span class="w"> </span><span class="n">detail</span><span class="p">;</span>

<span class="w">                        </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">MultipleEntries</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>
<span class="w">                        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">Item_id</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">Item_id</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">Document_id</span><span class="p">,</span><span class="w"> </span><span class="n">Item_id</span><span class="w"> </span><span class="k">HAVING</span><span class="w"> </span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">Document_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>

<span class="w">                    </span><span class="k">END</span>
<span class="w">                    </span><span class="k">UPDATE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationDocumentQueue</span><span class="w"> </span>
<span class="w">                    </span><span class="k">SET</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;POSTED&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">IntegrationDateTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getdate</span><span class="p">()</span>
<span class="w">                    </span><span class="k">WHERE</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;POSTING&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">ERP_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span>

<span class="w">            </span><span class="k">END</span><span class="w"> </span><span class="n">TRY</span>

<span class="w">            </span><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
<span class="w">                </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_SEVERITY</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_STATE</span><span class="p">();</span>
<span class="w">                </span><span class="n">RAISERROR</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">ErrorMessage</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="p">);</span>
<span class="w">                </span><span class="k">IF</span><span class="w"> </span><span class="o">@</span><span class="n">Debug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">                    </span><span class="n">PRINT</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorMessage</span>

<span class="w">                </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">                    </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="p">;</span>

<span class="w">            </span><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>

<span class="w">            </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">                </span><span class="k">COMMIT</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="p">;</span>

<span class="w">        </span><span class="k">FETCH</span><span class="w"> </span><span class="k">NEXT</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span>
<span class="w">        </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="n">ORDUNIQ</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">DocumentType</span>
<span class="w">    </span><span class="k">END</span>
<span class="w">    </span><span class="k">CLOSE</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span>
<span class="w">    </span><span class="k">DEALLOCATE</span><span class="w"> </span><span class="n">IntegrationQueueCursor</span>

<span class="k">END</span><span class="w">  </span><span class="c1">--Stored Procedure</span>

<span class="k">GO</span>
</code></pre></div>
<h3 id="pastelevointegration">PastelEvoIntegration</h3>
<h4 id="new-views">New Views</h4>
<h5 id="integration_evolution_interbranchrequisitionheader">Integration_Evolution_InterBranchRequisitionHeader</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">Integration_Evolution_InterBranchRequisitionHeader</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span>
<span class="k">SELECT</span><span class="w">  </span><span class="k">CAST</span><span class="p">(</span><span class="n">IDWhseIBT</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">cIBTNumber</span><span class="p">]</span><span class="w"> </span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">cIBTDescription</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="k">CASE</span><span class="w"> </span><span class="n">iIBTStatus</span><span class="w"> </span>
<span class="w">            </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span><span class="w"> </span>
<span class="w">            </span><span class="k">WHEN</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;RELEASED&#39;</span>
<span class="w">            </span><span class="k">ELSE</span><span class="w"> </span><span class="s1">&#39;COMPLETE&#39;</span><span class="w"> </span>
<span class="w">        </span><span class="k">END</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="n">WhseMst</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="n">ERPLocation</span><span class="p">,</span>
<span class="w">        </span><span class="s1">&#39;INTRANSIT&#39;</span><span class="w"> </span><span class="p">[</span><span class="k">Type</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="p">[</span><span class="n">Site</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="n">GETDATE</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">CreateDate</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblWhseIBT</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">WhseMst</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">_etblWhseIBT</span><span class="p">.</span><span class="n">iWhseIDFrom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WhseMst</span><span class="p">.</span><span class="n">WhseLink</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">iIBTStatus</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
<h5 id="integration_evolution_interbranchrequisitiondetail">Integration_Evolution_InterBranchRequisitionDetail</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">Integration_Evolution_InterBranchRequisitionDetail</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w">  </span><span class="k">CAST</span><span class="p">(</span><span class="n">IDWhseIBTLines</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">ROW_NUMBER</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">iWhseIBTID</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">IDWhseIBTLines</span><span class="w"> </span><span class="k">ASC</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)</span><span class="w"> </span><span class="n">LineNumber</span><span class="p">,</span><span class="w">  </span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">iWhseIBTID</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)</span><span class="w"> </span><span class="n">Document_ERPIdentification</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">fQtyRequired</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">WhseMst</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">WhseMst_2</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="n">IntransitLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">WhseMst_3</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">cLotNumber</span><span class="w"> </span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="k">CAST</span><span class="p">(</span><span class="n">iStockID</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)</span><span class="w"> </span><span class="n">MasterItem_ERPIdentification</span>
<span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">_etblWhseIBTLines</span><span class="p">]</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="p">(</span><span class="n">NOLOCK</span><span class="p">)</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">StkItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">iStockID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">StkItem</span><span class="p">.</span><span class="n">StockLink</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.[</span><span class="n">_etblWhseIBT</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">iWhseIBTID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_etblWhseIBT</span><span class="p">.</span><span class="n">IDWhseIBT</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">WhseMst</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">_etblWhseIBT</span><span class="p">.</span><span class="n">iWhseIDFrom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WhseMst</span><span class="p">.</span><span class="n">WhseLink</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">WhseMst</span><span class="w"> </span><span class="n">WhseMst_2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">_etblWhseIBT</span><span class="p">.</span><span class="n">iWhseIDIntransit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WhseMst_2</span><span class="p">.</span><span class="n">WhseLink</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEvoDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">WhseMst</span><span class="w"> </span><span class="n">WhseMst_3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">_etblWhseIBT</span><span class="p">.</span><span class="n">iWhseIDTo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WhseMst_3</span><span class="p">.</span><span class="n">WhseLink</span><span class="w"> </span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">iIBTStatus</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
<h4 id="new-trigger">New trigger</h4>
<h5 id="triggergraniteinterbranchrequisition">TriggerGraniteInterBranchRequisition</h5>
<div class="highlight"><pre><span></span><code><span class="k">GO</span>
<span class="n">USE</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)]</span>
<span class="k">GO</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TRIGGER</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">TriggerGraniteInterBranchRequisition</span><span class="p">]</span>
<span class="w">   </span><span class="k">ON</span><span class="w">  </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">_etblWhseIBT</span><span class="p">]</span>
<span class="w">   </span><span class="k">AFTER</span><span class="w"> </span><span class="k">INSERT</span><span class="p">,</span><span class="w"> </span><span class="k">UPDATE</span>
<span class="k">AS</span>
<span class="k">BEGIN</span>
<span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="n">NOCOUNT</span><span class="w"> </span><span class="k">ON</span><span class="p">;</span>

<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">Site</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">  </span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorMessage</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">NULL</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="w"> </span><span class="nb">INT</span>
<span class="w">    </span><span class="k">DECLARE</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="w"> </span><span class="nb">INT</span>


<span class="w">    </span><span class="k">BEGIN</span><span class="w"> </span><span class="n">TRY</span>
<span class="w">    </span><span class="k">BEGIN</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="w">   </span>
<span class="w">        </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationDocumentQueue</span><span class="w"> </span><span class="p">(</span><span class="n">ERP_id</span><span class="p">,</span><span class="n">DocumentNumber</span><span class="p">,</span><span class="n">DocumentType</span><span class="p">,[</span><span class="n">Status</span><span class="p">],</span><span class="n">LastUpdateDateTime</span><span class="p">)</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="n">IDWhseIBT</span><span class="p">,</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">([</span><span class="n">cIBTNumber</span><span class="p">]))</span><span class="w"> </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;REQUISITION&#39;</span><span class="p">,</span><span class="s1">&#39;ENTERED&#39;</span><span class="p">,</span><span class="n">getdate</span><span class="p">()</span>
<span class="w">        </span><span class="k">FROM</span><span class="w"> </span><span class="n">Inserted</span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">iIBTStatus</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="w">        </span><span class="k">AND</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">IntegrationDocumentQueue</span><span class="w"> </span>
<span class="w">        </span><span class="k">WHERE</span><span class="w"> </span><span class="n">DocumentNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RTRIM</span><span class="p">(</span><span class="n">LTRIM</span><span class="p">([</span><span class="n">cIBTNumber</span><span class="p">]))</span><span class="w"> </span><span class="k">collate</span><span class="w"> </span><span class="n">Latin1_General_CI_AS</span><span class="w"> </span>
<span class="w">        </span><span class="k">AND</span><span class="w"> </span><span class="n">IntegrationDocumentQueue</span><span class="p">.[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ENTERED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">ERP_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IDWhseIBT</span><span class="p">)</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="n">TRY</span>

<span class="w">    </span><span class="k">BEGIN</span><span class="w"> </span><span class="n">CATCH</span>
<span class="w">        </span><span class="k">SELECT</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorMessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_MESSAGE</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_SEVERITY</span><span class="p">(),</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERROR_STATE</span><span class="p">();</span>
<span class="w">        </span><span class="n">RAISERROR</span><span class="w"> </span><span class="p">(</span><span class="o">@</span><span class="n">ErrorMessage</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorSeverity</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">ErrorState</span><span class="p">);</span>

<span class="w">        </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">        </span><span class="k">BEGIN</span><span class="w"> </span>
<span class="w">            </span><span class="k">ROLLBACK</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="p">;</span>
<span class="w">        </span><span class="k">END</span>
<span class="w">    </span><span class="k">END</span><span class="w"> </span><span class="n">CATCH</span>

<span class="w">    </span><span class="k">IF</span><span class="w"> </span><span class="o">@@</span><span class="n">TRANCOUNT</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="k">BEGIN</span><span class="w"> </span>
<span class="w">        </span><span class="k">COMMIT</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="p">;</span>
<span class="w">    </span><span class="k">END</span>


<span class="k">END</span><span class="w"> </span>
</code></pre></div>
<h2 id="august-4510">August (4.5.1.0)</h2>
<h3 id="granitedatabase_1">GraniteDatabase</h3>
<hr />
<h4 id="new-views_1">New Views</h4>
<h5 id="datagrid_stockavailable_1">Datagrid_StockAvailable</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">DataGrid_StockAvailable</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemId</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">Code</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemCode</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">Description</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemDescription</span><span class="p">,</span>
<span class="w">       </span><span class="n">MasterItem</span><span class="p">.</span><span class="k">Type</span><span class="p">,</span>
<span class="w">       </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="p">,</span>
<span class="w">       </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;InStock&#39;</span>
<span class="w">            </span><span class="k">WHEN</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">            </span><span class="k">THEN</span><span class="w"> </span><span class="s1">&#39;NoStock&#39;</span>
<span class="w">            </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Status</span>
<span class="w">       </span><span class="p">,</span>
<span class="w">       </span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyInWarehouse</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnSalesOrders</span><span class="p">,</span>
<span class="w">       </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnPurchaceOrders</span><span class="p">,</span>
<span class="w">       </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyAfterSales</span><span class="p">,</span>
<span class="w">       </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyAfterPurchaces</span><span class="p">,</span>
<span class="w">       </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="n">OVER</span><span class="p">(</span><span class="n">PARTITION</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">SalesOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">PurchaseOrderQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">000</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TotalQtyAvailable</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">MasterItem</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">     </span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">     </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">ActionQty</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrderQty</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">           </span><span class="n">Document</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document</span><span class="p">.</span><span class="n">ID</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Completed</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Cancelled</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="n">Status</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ENTERED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RELEASED&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ORDER&#39;</span>
<span class="w">      </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">Item_id</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrders</span>
<span class="w">      </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">     </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">ActionQty</span><span class="p">))</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PurchaseOrderQty</span>
<span class="w">      </span><span class="k">FROM</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span>
<span class="w">           </span><span class="n">Document</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document</span><span class="p">.</span><span class="n">ID</span>
<span class="w">      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Completed</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Cancelled</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="n">Status</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;ENTERED&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RELEASED&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">            </span><span class="n">Document</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIVING&#39;</span>
<span class="w">      </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">Item_id</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PurchaseOrders</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">isActive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span>
<span class="w">      </span><span class="n">Qty</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">      </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">InStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h4 id="changed-views_2">Changed Views</h4>
<h5 id="api_querytransactionspickreversal">API_QueryTransactionsPickReversal</h5>
<ul>
<li>Exclude packed items
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsPickReversal</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">FULL</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">FULL</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="n">T2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">T2</span><span class="p">.</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">T2</span><span class="p">.[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PACK&#39;</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PICK&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">T2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span>
<span class="k">GO</span>
</code></pre></div></li>
</ul>
<h5 id="api_querydocumentprogress">API_QueryDocumentProgress</h5>
<ul>
<li>Added Document.ID column
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryDocumentProgress</span><span class="p">]</span>
<span class="w">    </span><span class="k">AS</span><span class="w"> </span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w">  </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Priority</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ExpectedDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerDescription</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Description</span><span class="p">,</span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ActionDate</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ActionDate</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">TSQL</span><span class="p">.</span><span class="n">DateStart</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Started</span><span class="p">,</span><span class="w"> </span><span class="n">TSQL</span><span class="p">.</span><span class="n">DateStop</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Stopped</span><span class="p">,</span><span class="w"> </span><span class="n">DATEDIFF</span><span class="p">(</span><span class="n">MI</span><span class="p">,</span><span class="w"> </span><span class="n">TSQL</span><span class="p">.</span><span class="n">DateStart</span><span class="p">,</span><span class="w"> </span><span class="n">TSQL</span><span class="p">.</span><span class="n">DateStop</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Duration</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">TSQL3</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">TSQL3</span><span class="p">.</span><span class="n">ActionQty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">TSQL3</span><span class="p">.</span><span class="n">ActionQty</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">TSQL3</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="n">TSQL3</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">DECIMAL</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Progress</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">TSQL</span><span class="p">.[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ERPLocation</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Location</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="k">Type</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w">  </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">             </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">MIN</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DateStart</span><span class="p">,</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DateStop</span><span class="p">,</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="k">USER</span><span class="p">]</span>
<span class="w">               </span><span class="k">FROM</span><span class="w">   </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w">  </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">               </span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span>
<span class="w">               </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TSQL</span><span class="w"> </span><span class="k">CROSS</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">             </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Qty</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ActionQty</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ActionQty</span>
<span class="w">                </span><span class="k">FROM</span><span class="w"> </span><span class="n">DocumentDetail</span>
<span class="w">                </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="n">TSQL3</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;COMPLETE&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">AuditDate</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">getdate</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h4 id="changed-data_1">Changed Data</h4>
<h5 id="applicationgrids_1">ApplicationGrids</h5>
<ul>
<li>Add ID column to all Document Progress grids</li>
<li>Fix Document / PickslipDocument grid</li>
<li>Fix ImportTrackingEntity</li>
</ul>
<h5 id="enquiry-grids">Enquiry Grids</h5>
<ul>
<li>Add StockAvailable grid</li>
</ul>
<h5 id="systemsnippets">SystemSnippets</h5>
<ul>
<li>Added snippets for all default Process templates</li>
</ul>
<h3 id="accpaccintegration">AccpaccIntegration</h3>
<hr />
<h4 id="changed-views_3">Changed Views</h4>
<h5 id="masteritemalias_view_1">MasterItemAlias_View</h5>
<ul>
<li>Add columns<ul>
<li>AuditDate</li>
<li>AuditUser</li>
<li>Version</li>
<li>ERPIdentification</li>
</ul>
</li>
<li>Add UNION to return results from MasterItemAlias table</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MasterItemAlias_View</span><span class="p">]</span>

<span class="w">    </span><span class="k">AS</span><span class="w"> </span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">ROW_NUMBER</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span><span class="w"> </span>
<span class="k">CAST</span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">MANITEMNO</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Code</span><span class="p">,</span><span class="w"> </span>
<span class="k">CAST</span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="k">CONVERSION</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Conversion</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">bit</span><span class="p">)</span><span class="k">as</span><span class="w"> </span><span class="n">IsActive</span><span class="p">,</span><span class="w"> </span>
<span class="n">GETDATE</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">,</span><span class="w"> </span>
<span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItem_id</span><span class="p">,</span><span class="k">NULL</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ERPIdentification</span><span class="p">,</span><span class="mi">0</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Version</span>
<span class="k">FROM</span><span class="w">         </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">UNIT</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">RIGHT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICUNIT</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICITEM</span><span class="p">.</span><span class="n">ITEMNO</span>
<span class="k">WHERE</span><span class="w">     </span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">AccpacDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">ICIOTH</span><span class="p">.</span><span class="n">MANITEMNO</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span>
<span class="k">UNION</span>
<span class="k">SELECT</span><span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">([</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItemAlias</span>
</code></pre></div>
<h4 id="changed-stored-procedures_1">Changed Stored Procedures</h4>
<h5 id="integrationprocesspurchaseorder">IntegrationProcessPurchaseOrder</h5>
<ul>
<li>Map ExpectedArrivalDate to ExpectedDate instead of ActionDate</li>
</ul>
<h5 id="integrationprocesssalesorder">IntegrationProcessSalesOrder</h5>
<ul>
<li>Map ExpectedShipDate to ExpectedDate instead of ActionDate</li>
</ul>
<h5 id="integrationprocesstransfer_1">IntegrationProcessTransfer</h5>
<ul>
<li>Map ExpectedShipDate to ExpectedDate instead of ActionDate</li>
</ul>
<h3 id="evolutionintegration">EvolutionIntegration</h3>
<hr />
<h4 id="changed-views_4">Changed Views</h4>
<h5 id="masteritemalias_view_2">MasterItemAlias_View</h5>
<ul>
<li>Add columns<ul>
<li>AuditDate</li>
<li>AuditUser</li>
<li>Version</li>
<li>ERPIdentification</li>
</ul>
</li>
<li>Add UNION to return results from MasterItemAlias table</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MasterItemAlias_View</span><span class="p">]</span>
<span class="w">    </span><span class="k">AS</span><span class="w"> </span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">ROW_NUMBER</span><span class="p">()</span><span class="w"> </span><span class="n">OVER</span><span class="w"> </span><span class="p">(</span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ID</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">StkItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnits</span><span class="p">.</span><span class="n">cUnitCode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Code</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnits</span><span class="p">.</span><span class="n">cUnitCode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnitConversion</span><span class="p">.</span><span class="n">fUnitBQty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Conversion</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">IsActive</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MasterItem_id</span><span class="p">,</span>
<span class="w">        </span><span class="n">GETDATE</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Version</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="k">NULL</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ERPIdentification</span>
<span class="k">FROM</span><span class="w">         </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnits</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnitConversion</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnits</span><span class="p">.</span><span class="n">idUnits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnitConversion</span><span class="p">.</span><span class="n">idUnitConversion</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">StkItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">_etblUnitConversion</span><span class="p">.</span><span class="n">idUnitConversion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">StkItem</span><span class="p">.</span><span class="n">iUOMDefPurchaseUnitID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                      </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">PastelEVODatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">StkItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">SQL_Latin1_General_CP1_CI_AS</span>
<span class="k">UNION</span>
<span class="k">SELECT</span><span class="w">  </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">[</span><span class="err">$</span><span class="p">(</span><span class="n">GraniteDatabase</span><span class="p">)].</span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItemAlias</span>
</code></pre></div>
<h2 id="09-june-2023-4500">09 June 2023 (4.5.0.0)</h2>
<h3 id="granitedatabase_2">GraniteDatabase</h3>
<hr />
<h4 id="new-tables_1">New tables</h4>
<h5 id="datagrid">DataGrid</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">DataGrid</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Group</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">SQLView</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">GridDefinition</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">UserGroup_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">User_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">isApplicationGrid</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">isCustomGrid</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h5 id="systemstaticdata">SystemStaticData</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemStaticData</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Group</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">Key</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="k">NCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">)</span>
</code></pre></div>
<h5 id="systemsnippets_1">SystemSnippets</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">SystemSnippets</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Code</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">CodeComment</span><span class="p">]</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Tags</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ProcessType</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<h5 id="auditstocktakelines">AuditStockTakeLines</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">AuditStockTakeLines</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">StockTakeSession_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">StockTakeLines_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">TrackingEntity_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">MasterItem_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Barcode</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">MasterItemCode</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Action</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">QtyColumn</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">FromQty</span><span class="p">]</span><span class="w"> </span><span class="nb">decimal</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">ToQty</span><span class="p">]</span><span class="w"> </span><span class="nb">decimal</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">FromStatus</span><span class="p">]</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ToStatus</span><span class="p">]</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">FromLocation</span><span class="p">]</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">ToLocation</span><span class="p">]</span><span class="w">  </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditTime</span><span class="p">]</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="p">)</span>
</code></pre></div>
<h5 id="systemhelp">SystemHelp</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemHelp</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Title</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Content</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Component</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">)</span>
</code></pre></div>
<h4 id="table-changes">Table Changes</h4>
<h5 id="userscredential">UsersCredential</h5>
<p>Columns PasswordExpiration and FailedLoginAttempts added</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">UsersCredential</span><span class="p">]</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">PasswordExpiration</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">FailedLoginAttempts</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h5 id="document">Document</h5>
<p>Columns Route and Stop have been renamed to RouteName and StopName respectively</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">Document</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">RouteName</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">StopName</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h5 id="process_1">Process</h5>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Process</span><span class="p">]</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">WebTemplate</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h5 id="processstep_1">ProcessStep</h5>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">ProcessStep</span><span class="p">]</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">WebTemplate</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h5 id="users_2">Users</h5>
<p>Added new permissions</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Users</span><span class="p">]</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">AllowSystemStaticData</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowManufactureDocument</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowPickReversal</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowReceiveReversal</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowTransferReversal</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowInventoryVariances</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowReceivingProgress</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowPickingProgress</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowPickSlip</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowTransferProgress</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="n">AllowManufactureProgress</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h5 id="usergroup">UserGroup</h5>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">UserGroup</span><span class="p">]</span>
<span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span>
</code></pre></div>
<h5 id="audit">Audit</h5>
<p>Column NewValue now allows nulls
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Audit</span><span class="p">]</span>
<span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">NewValue</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></p>
<h5 id="systemsettings_3">SystemSettings</h5>
<p>Add Version column</p>
<div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span>
<span class="w">    </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h4 id="deprecated-tables">Deprecated Tables</h4>
<ul>
<li>ApplicationLog</li>
<li>Emails</li>
<li>Reports</li>
<li>StockTakeLine</li>
<li>StockTakeScanned</li>
</ul>
<h4 id="new-views_2">New Views</h4>
<h5 id="api_querystocktakeprocesssummary">API_QueryStockTakeProcessSummary</h5>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryStockTakeProcessSummary</span><span class="p">]</span><span class="w"> </span><span class="k">as</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">Session</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="n">dbo</span><span class="p">.</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ItemType</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="n">OpeningQty</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">OpeningQty</span><span class="p">,</span>
<span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">TrackingEntity_id</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Total</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;OUTSTANDING&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">OpeningQty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="n">OutstandingQty</span><span class="p">,</span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;COUNTED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count1Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count1Qty</span><span class="p">,</span><span class="w">  </span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;COUNTED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count2Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count2Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;COUNTED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count3Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count3Qty</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;APPROVED&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">ApprovedQty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ApprovedQty</span><span class="p">,</span>
<span class="w">    </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">QTYONHAND</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">ERPQty</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">    </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">StockTakeSession_id</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">    </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">    </span><span class="n">dbo</span><span class="p">.</span><span class="n">ERP_StockOnHand</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">ITEMNO</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.[</span><span class="n">Name</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.[</span><span class="k">Type</span><span class="p">],</span><span class="w">  </span><span class="n">dbo</span><span class="p">.</span><span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">QTYONHAND</span>
</code></pre></div>
<h4 id="changed-views_5">Changed Views</h4>
<h5 id="api_querypicksliplines">API_QueryPickslipLines</h5>
<p>Remove dependency on deprecated view Base_Inventory_Summary
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryPickslipLines</span><span class="p">]</span>
<span class="w">    </span><span class="k">AS</span><span class="w"> </span>
<span class="k">SELECT</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentDetailID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="p">,</span><span class="w"> </span><span class="n">Document_1</span><span class="p">.</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrder</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">Document_1</span><span class="p">.</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">Document_1</span><span class="p">.</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PickSlipQty</span><span class="p">,</span><span class="w"> </span><span class="n">DocumentDetail_1</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">OrderQty</span><span class="p">,</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PickedQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">stock</span><span class="p">.</span><span class="n">QtyOnHand</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnHand</span><span class="p">,</span><span class="w"> </span><span class="n">Document_1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrderID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItemID</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span><span class="n">DocumentDetail_1</span><span class="p">.</span><span class="n">LineNumber</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SalesOrderLine</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Instruction</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Cancelled</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Completed</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">SerialNumber</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Type</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">DocumentDetail_1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LinkedDetail_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DocumentDetail_1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document_1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DocumentDetail_1</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Document_1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Status</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="w">         </span><span class="p">(</span>
<span class="w">            </span><span class="k">SELECT</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">QtyOnHand</span>
<span class="w">            </span><span class="k">FROM</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">            </span><span class="p">[</span><span class="k">Location</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">Location</span><span class="p">].</span><span class="n">ID</span>
<span class="w">            </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Item_id</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">InStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">([</span><span class="k">Location</span><span class="p">].</span><span class="n">NonStock</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">         </span><span class="p">)</span><span class="w"> </span><span class="n">stock</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="k">Type</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PICKSLIP&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">Status</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;COMPLETE&#39;</span><span class="p">)</span>
<span class="k">GO</span>
</code></pre></div></p>
<h5 id="api_querystockreplenish">API_QueryStockReplenish</h5>
<p>Remove dependency on deprecated view Base_Inventory_Summary
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].</span><span class="n">API_QueryStockReplenish</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Location</span><span class="p">].[</span><span class="n">Name</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">PickFaceLocation</span><span class="p">,</span><span class="w"> </span><span class="n">stock</span><span class="p">.</span><span class="n">LocationQty</span><span class="p">,</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">MinimumPickfaceQuantity</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MininmumQty</span><span class="p">,</span><span class="w"> </span>
<span class="n">MasterItem</span><span class="p">.</span><span class="n">OptimalPickfaceQuantity</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">OptimalQty</span><span class="p">,</span><span class="w"> </span><span class="n">OptimalPickfaceQuantity</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">LocationQty</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ReplenishQty</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="n">dbo</span><span class="p">.[</span><span class="k">Location</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">PickfaceLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">Location</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="n">APPLY</span>
<span class="p">(</span>
<span class="w">    </span><span class="k">SELECT</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">Qty</span><span class="p">),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">LocationQty</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">InStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="k">Location</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span>
<span class="p">)</span><span class="w"> </span><span class="n">stock</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">OptimalPickfaceQuantity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span>
<span class="k">GO</span>
</code></pre></div></p>
<h5 id="api_querystocktakelinessummary">API_QueryStockTakeLinesSummary</h5>
<p>Added collation to join on ERP_StockOnHand view
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryStockTakeLinesSummary</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ItemType</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">OpeningLocationERP</span><span class="p">,</span>
<span class="k">SUM</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">OpeningQty</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">OpeningQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Session</span><span class="p">,</span><span class="w"> </span>
<span class="k">COUNT</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Total</span><span class="p">,</span><span class="w"> </span>
<span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">SessionQty</span><span class="p">,</span><span class="w"> </span>
<span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count1Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count1Qty</span><span class="p">,</span><span class="w">  </span>
<span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count2Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count2Qty</span><span class="p">,</span><span class="w"> </span>
<span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Count3Qty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Count3Qty</span><span class="p">,</span><span class="w"> </span>
<span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Scrap</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">ApprovedQty</span><span class="w"> </span><span class="k">ELSE</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ApprovedQty</span><span class="p">,</span><span class="w">  </span>
<span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">QTYONHAND</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ERPQty</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">StockTakeSession_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">ERP_StockOnHand</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">MasterItem</span><span class="p">.</span><span class="n">FormattedCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">ITEMNO</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">DATABASE_DEFAULT</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">OpeningLocationERP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ERP_StockOnHand</span><span class="p">.[</span><span class="k">LOCATION</span><span class="p">]</span><span class="w"> </span><span class="k">COLLATE</span><span class="w"> </span><span class="n">DATABASE_DEFAULT</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeSession</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">StockTakeLines</span><span class="p">.</span><span class="n">OpeningLocationERP</span><span class="p">,</span><span class="w"> </span><span class="n">ERP_StockOnHand</span><span class="p">.</span><span class="n">QTYONHAND</span>
<span class="k">GO</span>
</code></pre></div></p>
<h5 id="api_querystockdetail">API_QueryStockDetail</h5>
<p>Split CreateDate (datetime) to CreateDate (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryStockDetail</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Qty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">MasterItem_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Location</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">OnHoldDate</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="n">TrackingEntity</span><span class="p">].</span><span class="n">CreatedDate</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">CreatedDate</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="n">TrackingEntity</span><span class="p">].</span><span class="n">CreatedDate</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">OnHold</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">StockTake</span><span class="p">,</span>
<span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Category</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ItemCategory</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ItemType</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">Category</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">LocationCategory</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">LocationType</span><span class="w"> </span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">BelongsToEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">InStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="p">.</span><span class="n">NonStock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactions">API_QueryTransactions</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactions</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span><span class="p">,</span><span class="w"> </span><span class="n">TrackingEntity_1</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromBarcode</span><span class="p">,</span>
<span class="w">         </span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="mi">101</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TransactionDate</span><span class="p">,</span><span class="w"> </span><span class="k">SUBSTRING</span><span class="p">(</span><span class="k">CONVERT</span><span class="p">(</span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="p">),</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TransactionTime</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">Document_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">TrackingEntity_1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromTrackingEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TrackingEntity_1</span><span class="p">.</span><span class="n">ID</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactionsmanufacture">API_QueryTransactionsManufacture</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsManufacture</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span>
<span class="k">FROM</span><span class="w">     </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                  </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span>
<span class="w">                  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;CONSUME&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;MANUFACTURE&#39;</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactionspickreversal_1">API_QueryTransactionsPickReversal</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsPickReversal</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">Status</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">LineNumber</span>
<span class="k">FROM</span><span class="w">  </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentLine_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">DocumentDetail</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">FULL</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">FULL</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">         </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span>
<span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PICK&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="k">ISNULL</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactionspicking">API_QueryTransactionsPicking</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsPicking</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationDate</span><span class="p">,</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span>
<span class="k">FROM</span><span class="w">     </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;PICK&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;DYNAMICPICK&#39;</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactionsreceiving">API_QueryTransactionsReceiving</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsReceiving</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationDate</span><span class="p">,</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span>
<span class="k">FROM</span><span class="w">     </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;RECEIVE&#39;</span>
<span class="k">GO</span>
</code></pre></div>
<h5 id="api_querytransactionstransfer">API_QueryTransactionsTransfer</h5>
<p>Split column Date (datetime) into columns Date (date) and Time (Time(0))</p>
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">VIEW</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">API_QueryTransactionsTransfer</span><span class="p">]</span>
<span class="k">AS</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ID</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ReversalTransaction_id</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">Description</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">Date</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">Date</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="nb">Date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Time</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Time</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Batch</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">SerialNumber</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ExpiryDate</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToQty</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ActionQty</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">UOM</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Comment</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationDate</span><span class="p">,</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Process</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">[</span><span class="k">User</span><span class="p">],</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">DocumentReference</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="nb">Number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Document</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationStatus</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">Barcode</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">Pallet</span><span class="p">,</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">FromLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">Name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">ToLocation</span><span class="p">,</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">Site</span><span class="p">,</span><span class="w"> </span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">Type</span><span class="p">,</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">IntegrationReference</span>
<span class="k">FROM</span><span class="w">     </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">]</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">MasterItem</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">MasterItem_id</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ContainableEntity_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">CarryingEntity</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L1</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">FromLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L1</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">ToLocation_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L2</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="k">Location</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">L3</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">TrackingEntity</span><span class="p">.</span><span class="n">Location_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">L3</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">User_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">Users</span><span class="p">.</span><span class="n">ID</span><span class="w"> </span><span class="k">LEFT</span><span class="w"> </span><span class="k">OUTER</span><span class="w"> </span><span class="k">JOIN</span>
<span class="w">                    </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">]</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="n">Document</span><span class="p">].</span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="n">Document_id</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TRANSFER&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">dbo</span><span class="p">.[</span><span class="k">Transaction</span><span class="p">].</span><span class="k">Type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;DYNAMICTRANSFER&#39;</span>
<span class="k">GO</span>
</code></pre></div>
<h4 id="deprecated-views">Deprecated Views</h4>
<ul>
<li>App_DocumentDetail</li>
<li>App_Documentdetail_Pickslips</li>
<li>App_DocumentHeader</li>
<li>App_Integration_Transactions</li>
<li>App_Inventory_ByLocation</li>
<li>App_Inventory_Instock</li>
<li>App_Inventory_Pallets</li>
<li>App_Inventory_QCHold</li>
<li>App_Inventory_StockTake</li>
<li>App_MasterFiles_Locations</li>
<li>App_MasterFiles_MasterItems</li>
<li>App_Outbound_Packing</li>
<li>App_Outbound_PickSlips</li>
<li>App_StockTake_Approved</li>
<li>App_StockTake_PostingTotals</li>
<li>App_StockTake_Processed</li>
<li>App_StockTake_Scanned</li>
<li>App_StockTake_ScannedSummary</li>
<li>App_StockTake_Unscanned</li>
<li>App_TrackingEntity</li>
<li>App_Transactions_Location</li>
<li>App_Warning_InventoryVariance</li>
<li>App_Warning_Picking</li>
<li>App_Warning_Receiving</li>
<li>App_Warning_StockExpiry</li>
<li>Base_App_Comparison</li>
<li>Base_App_ExecutionProgress</li>
<li>Base_App_TransactionPerUser</li>
<li>Base_Inventory_Summary</li>
<li>Base_Inventory_Summary_Location</li>
<li>Base_Report_Inventory_Expiry</li>
<li>Base_Stocktake</li>
<li>Report_App_Transactions</li>
<li>Report_App_Warning_StockReorder</li>
<li>Report_App_Warning_StockToReplenish</li>
<li>Report_Inbound_ReceivePerUser</li>
<li>Report_Inbound_Receiving</li>
<li>Report_Inventory_Adjustments</li>
<li>Report_Inventory_Moves</li>
<li>Report_Inventory_OnhandDetail</li>
<li>Report_Inventory_OnhandSummary</li>
<li>Report_Inventory_OnHandSummary_ForBufferStock</li>
<li>Report_Inventory_OnholdDetail</li>
<li>Report_Inventory_Reclassify</li>
<li>Report_Inventory_ReplenishHistory</li>
<li>Report_Inventory_Returns</li>
<li>Report_Inventory_Scrapped</li>
<li>Report_Inventory_Transfer</li>
<li>Report_Outbound_Picking</li>
<li>Report_Outbound_PicksPerUser</li>
<li>Report_StockTake_Variance</li>
<li>Report_Transactions_ActivityCost</li>
</ul>
<h4 id="other">Other</h4>
<h5 id="misc-folder-renamed-to-tooling">Misc folder renamed to Tooling</h5>
<h5 id="moved-views-to-new-folders">Moved views to new folders</h5>
<ul>
<li>
<p>Views\Labels folder</p>
<ul>
<li>Label_Box</li>
<li>Label_Location</li>
<li>Label_MasterItem</li>
<li>Label_Pallet</li>
<li>Label_TrackingEntity</li>
<li>Label_Users</li>
</ul>
</li>
<li>
<p>Views\Integration folder</p>
<ul>
<li>Integration_Transactions</li>
<li>Integration_TransactionsComplete</li>
</ul>
</li>
</ul>
<h5 id="moved-scripts-to-new-folders">Moved scripts to new folders</h5>
<ul>
<li>Data\ScheduledJobs folder<ul>
<li>ScheduledJobs.sql</li>
</ul>
</li>
<li>Data\SystemSettings folder<ul>
<li>SystemSettings.sql</li>
<li>SystemSettingsAccpac.sql</li>
<li>SystemSettingsEvolution.sql</li>
<li>SystemSettingsProcessApp.sql</li>
<li>SystemSettingsSAP.sql</li>
<li>SystemSettingsScheduler.sql</li>
</ul>
</li>
<li>Data\Users folder<ul>
<li>UserGroups.sql</li>
<li>Users.sql</li>
</ul>
</li>
</ul>
<h5 id="default-processes-moved-to-subfolder">Default processes moved to subfolder</h5>
<ul>
<li>Process* moved to Process\Default</li>
</ul>
<h5 id="removed-unused-scripts">Removed unused scripts</h5>
<ul>
<li>Customers*</li>
<li>DataDemo*</li>
<li>Reporting*</li>
</ul>
<h5 id="postdeployscript">PostDeployScript</h5>
<ul>
<li>Add .\Data\UserCredentials.sql</li>
<li>Granite user creation updated to check if user exists before creating</li>
</ul>
<h5 id="scriptinputparameters">ScriptInputParameters</h5>
<p>Value field changed to nvarchar(max)
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="n">dbo</span><span class="p">.</span><span class="n">ScriptInputParameters</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TABLE</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">Name</span><span class="w"> </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">Value</span><span class="w">  </span><span class="n">NVARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></p>
<h5 id="grids-data">Grids data</h5>
<ul>
<li>Add ApplicationGrids.sql</li>
<li>Add EnquiryGrids.sql</li>
</ul>
<h5 id="systemsettings-data">SystemSettings data</h5>
<ul>
<li>Change DatabaseVersion
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;Granite&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DatabaseVersion&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4.5.0.0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Granite Database version&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Add GraniteScheduler TimeZone and EmailAddress settings
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemSettings</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w">    </span><span class="p">(</span><span class="s1">&#39;GraniteScheduler&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TimeZone&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The time zone that will be used when scheduling CRON jobs&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">              </span><span class="p">(</span><span class="s1">&#39;GraniteScheduler&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Username&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The username that will be used to connect to the SMTP server (usually the same as the EmailAddress)&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Add settings to SystemSettingsAccpac.sql
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;IntegrationSage300&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RoundSummarizedActionQty&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Round summed ActionQty when posting transfers and moves&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>

<span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;IntegrationSage300&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;RoundSummarizedActionQtyToDecimalPlaces&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Number of decimal places to round ActionQty to&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Add Syspro settings
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w"> </span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SysproWriteXML&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;If true, logs XML that would be posted to C drive instead of posting to Syspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Operator&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro Operator name&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;OperatorPassword&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro Operator password&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CompanyId&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro CompanyID&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CompanyPassword&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro Company password&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SalesOrderPosting&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SORTBO&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro business object to use for SalesOrder posting (SORTBO or SORTOS or ALL)&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TransferPosting&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;GIT&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro integration method for Transfers (GIT or INVT)&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Instance&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Syspro Instance to use (empty for default)&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;MultipleBins&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;true or false. Set to true when Syspro has multiple bins enabled&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationSyspro&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SerialNumbers&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;true or false. Set to true when Syspro has SerialNumbers enabled&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Add Omni settings
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w">  </span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Host&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Servername or IP of the server where the API is hosted&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Port&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Port number that the Omni API is running on&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;UserName&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Omni user name that is used to transact via the API&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Password&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Password for the Omni user&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;CompanyName&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Omni company name to post to&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;AdjustmentAccount&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Account that adjustments will post to&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ScrapAccount&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Account that scrap transcations will post to&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;IntransitWarehouse&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;The intransit warehouse that will be used&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="p">(</span><span class="s1">&#39;IntegrationOmni&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;PostDynamicTransferReceipt&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;false&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;true or false. Determines whether Omni transfer is auto posted for Granite DynamicTransfers&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>Add SystemSettingsSQLCLR.sql
    <div class="highlight"><pre><span></span><code><span class="w">    </span><span class="k">INSERT</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">SystemSettings</span><span class="p">]</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">ValueDataType</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">])</span>
<span class="w">    </span><span class="k">VALUES</span><span class="w">  </span><span class="p">(</span><span class="s1">&#39;SQLCLR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Webservice&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Granite Webservice Address&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">(</span><span class="s1">&#39;SQLCLR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LabelPrintService&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Label Print Service Address&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">(</span><span class="s1">&#39;SQLCLR&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;IntegrationService&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Integration Service Address&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;string&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div></li>
<li>
<p>Application value changed from INTEGRATIONSERVICE to provider specific names:</p>
<ul>
<li>IntegrationSage300</li>
<li>IntegrationSage200</li>
<li>IntegrationSAPB1</li>
</ul>
</li>
<li>
<p>Changed casing on Application name for SystemSettingsScheduler.sql</p>
<ul>
<li>GRANITESCHEDULER -&gt; GraniteScheduler</li>
</ul>
</li>
<li>
<p>Changed casing on Application name for SystemSettingsProcessApp.sql</p>
<ul>
<li>PROCESSAPP -&gt; ProcessApp</li>
</ul>
</li>
</ul>
<h5 id="systemsnippets-data">SystemSnippets data</h5>
<p>Add default snippets data to SystemSnippets table
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSnippets</span><span class="w"> </span><span class="p">([</span><span class="n">Name</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Code</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Tag0</span><span class="p">])</span>
<span class="k">VALUES</span><span class="w"> </span>
<span class="p">(</span><span class="s1">&#39;Basic Table&#39;</span><span class="p">,</span><span class="s1">&#39;Basic html table.&#39;</span><span class="p">,</span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_&#39;&#39; | dbSelect() | basicTable() }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TABLE&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Basic Table / Search&#39;</span><span class="p">,</span><span class="s1">&#39;Table with search textbox.&#39;</span><span class="p">,</span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_&#39;&#39; | dbSelect({}) | basicTable({enableSearch:true}) }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TABLE&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Basic Table / Search and Select&#39;</span><span class="p">,</span><span class="s1">&#39;Table with search and select on column.&#39;</span><span class="p">,</span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_&#39;&#39; | dbSelect({}) | basicTable({selectOnColumn:&#39;&#39;_replace_&#39;&#39;, enableSearch:true}) }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;TABLE&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Basic List&#39;</span><span class="p">,</span><span class="s1">&#39;Basic List&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_&#39;&#39; | dbSelect() | basicList() }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LIST&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Basic List / Search&#39;</span><span class="p">,</span><span class="s1">&#39;List with search textbox&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_&#39;&#39; | dbSelect() | basicList({enableSearch:true}) }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LIST&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Label with Value&#39;</span><span class="p">,</span><span class="s1">&#39;Label with step value&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&lt;div&gt;&lt;small&gt;_replace_&lt;/small&gt;&lt;header class=&#39;&#39;gn-float-right&#39;&#39;&gt;{{_replace_}}&lt;/header&gt;&lt;/div&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;LABEL&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;SQL select parameter&#39;</span><span class="p">,</span><span class="s1">&#39;SQL select with parameter.&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_view_ WHERE _replace_col_ = @_replace_value_&#39;&#39; | dbSelect({_replace_step_}) |&gt; to =&gt; rows }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;SQL select single value&#39;</span><span class="p">,</span><span class="s1">&#39;SQL select single value to variable&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ &#39;&#39;SELECT _replace_col_ FROM _replace_view_ WHERE _replace_col_ = @_replace_value_&#39;&#39; | dbScalar({_replace_step_}) |&gt; to =&gt; _replace_variable_ }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;SQL select single row&#39;</span><span class="p">,</span><span class="s1">&#39;SQL select single row to variable&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{{ &#39;&#39;SELECT * FROM _replace_view_ WHERE _replace_col_ = @_replace_value_&#39;&#39; | dbSingle({_replace_step_}) |&gt; to =&gt; row }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SQL&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;Hide New button&#39;</span><span class="p">,</span><span class="s1">&#39;Hide New button on CarryingEntity step&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&lt;style&gt; #btnNew { display:none } &lt;/style&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HIDE&#39;</span><span class="p">)</span>
</code></pre></div></p>
<h5 id="usercredentials-data">UserCredentials data</h5>
<p>Add default user to UsersCredential table
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">UsersCredential</span><span class="w"> </span><span class="p">(</span><span class="n">Users_id</span><span class="p">,</span><span class="w"> </span><span class="n">Password</span><span class="p">,</span><span class="w"> </span><span class="n">Salt</span><span class="p">,</span><span class="w"> </span><span class="n">PasswordStrength</span><span class="p">,</span><span class="w"> </span><span class="k">Version</span><span class="p">,</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">User_id</span><span class="p">,</span><span class="w"> </span>
<span class="s1">&#39;Pm7fzVwBm+rMN5+hTRDFQPicjE5JYU8TpZq7lQS8CYMCqsP0QefTlBk96q0EucwyXuLWwe25y+IuqPXe/NPUBg==&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="s1">&#39;bNbQLUjOj041iKexoJV9fCvSANYohJPchw6QOrBzzwGol6Xwydm44BsIABBMYlEA&#39;</span><span class="p">,</span>
<span class="s1">&#39;VeryWeak&#39;</span><span class="p">,</span>
<span class="mi">1</span><span class="p">,</span>
<span class="n">GETDATE</span><span class="p">(),</span>
<span class="s1">&#39;AUTOMATION&#39;</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Users</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span>
</code></pre></div></p>
<h3 id="pastel-evo-integration">Pastel EVO Integration</h3>
<hr />
<h4 id="scheduledjobs-views">ScheduledJobs Views</h4>
<p>Removed:
- Integration_Evolution_SalesOrderTradingPartner
- Integration_Evolution_PurchaseOrderTradingPartner
Added:
- Integration_Evolution_TradingPartner
Updated:
- Integration_Evolution_ReceiptDetail
- Integration_Evolution_ReceiptHeader
- Integration_Evolution_IntransitDetail
- Integration_Evolution_IntransitHeader
- Integration_Evolution_MasterItem
- Integration_Evolution_MasterItem_V7
- Integration_Evolution_PurchaseOrderDetail
- Integration_Evolution_PurchaseOrderDetail_V7
- Integration_Evolution_PurchaseOrderHeader
- Integration_Evolution_SalesOrderDetail
- Integration_Evolution_SalesOrderDetail_V7
- Integration_Evolution_SalesOrderHeader
- Integration_Evolution_TransferDetail
- Integration_Evolution_TransferHeader
- Integration_Evolution_WorkOrderDetail
- Integration_Evolution_WorkOrderHeader</p>
<h4 id="scheduledjobs-triggers">ScheduledJobs Triggers</h4>
<p>Updated:
- TriggerGranitePurchaseOrders
- TriggerGraniteSalesOrders
- TriggerGraniteWarehouseTransfer</p>
<h3 id="accpac-integration">Accpac Integration</h3>
<hr />
<h4 id="scheduledjobs-views_1">ScheduledJobs Views</h4>
<p>Added:
- Integration_Accpac_IntransitDetail
- Integration_Accpac_IntransitHeader
- Integration_Accpac_MasterItem
- Integration_Accpac_PurchaseOrderDetail
- Integration_Accpac_PurchaseOrderHeader
- Integration_Accpac_ReceiptDetail
- Integration_Accpac_ReceiptHeader
- Integration_Accpac_SalesOrderDetail
- Integration_Accpac_SalesOrderHeader
- Integration_Accpac_TradingPartner
- Integration_Accpac_TransferDetail
- Integration_Accpac_TransferHeader
- Integration_Accpac_WorkOrderDetail
- Integration_Accpac_WorkOrderHeader</p>
<h4 id="scheduledjobs-triggers_1">ScheduledJobs Triggers</h4>
<ul>
<li>TriggerGranitePurchaseOrders</li>
<li>TriggerGraniteSalesOrders</li>
<li>TriggerGraniteTransfers</li>
<li>TriggerGraniteWorkOrders</li>
</ul>
<h3 id="syspro-database">Syspro Database</h3>
<hr />
<p>New project for Syspro integration</p>
<h4 id="tables">Tables</h4>
<ul>
<li>InvMaster</li>
<li>PorMasterDetail</li>
<li>PorMasterHdr</li>
<li>SorDetail</li>
<li>SorMaster</li>
<li>WipJobAllMat</li>
<li>WipMaster</li>
</ul>
<h4 id="triggers">Triggers</h4>
<ul>
<li>TriggerGraniteWorkOrders</li>
<li>TriggerGraniteSalesOrders</li>
<li>TriggerGranitePurchaseOrders</li>
</ul>
<h4 id="procedures">Procedures</h4>
<ul>
<li>IntegrationMasterItems</li>
<li>IntegrationProcessPurchaseOrder</li>
<li>IntegrationProcessSalesOrder</li>
<li>IntegrationProcessWorkOrders</li>
</ul>
<h3 id="sapb1-database">SAPB1 Database</h3>
<hr />
<h4 id="new-tables_2">New Tables</h4>
<ul>
<li>ORDN</li>
</ul>
<h3 id="sapb1-integration">SAPB1 Integration</h3>
<hr />
<h4 id="scheduled-job-views">Scheduled Job Views</h4>
<ul>
<li>Integration_SAPB1_MasterItem</li>
<li>Integration_SAPB1_PurchaseOrderDetail</li>
<li>Integration_SAPB1_PurchaseOrderHeader</li>
<li>Integration_SAPB1_SalesOrderDetail</li>
<li>Integration_SAPB1_SalesOrderHeader</li>
<li>Integration_SAPB1_TransferDetail</li>
<li>Integration_SAPB1_TransferHeader</li>
</ul>
<h3 id="omni-integration">Omni Integration</h3>
<hr />
<p>New project added to database solution</p>
<p>Tables:
- Omni_DebugJSON</p>
<p>Functions:
- FN_BasicAuthHeader</p>
<p>StoredProcedures: 
- HttpProcedures:
    - HTTP_GET_JSON
    - HTTP_POST
    - HTTP_POST_JSON
    - HTTP_PUT_JSON
- Omni_PurchaseOrderSync
- Omni_SalesOrderSync
- Omni_StockTakeSync
- Omni_WarehouseReqSync
- Omni_WarehouseTransferSync
- Omni_WorkOrderSync</p>
<h2 id="24-feb-2023-4220">24 Feb 2023 (4.2.2.0)</h2>
<h3 id="granitedatabase_3">GraniteDatabase</h3>
<hr />
<h4 id="new-tables_3">New tables</h4>
<ul>
<li>UsersCredential
    <div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">UsersCredential</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Users_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">unique</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Password</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Salt</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">PasswordStrength</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="p">[</span><span class="n">PK_UsersCredential</span><span class="p">]</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">([</span><span class="n">ID</span><span class="p">]),</span>
<span class="p">)</span>
</code></pre></div></li>
<li>ApplicationLog
    <div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">ApplicationLog</span><span class="p">]</span>
<span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">Id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="nb">Date</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Application</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">LogOrigin</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">LogLevel</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">Message</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="k">MAX</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="k">User</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">GraniteTransaction_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">Document_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">DocumentDetail_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">)</span>
</code></pre></div></li>
</ul>
<h4 id="table-changes_1">Table changes</h4>
<ul>
<li>TradingPartner increase Email column size and add ERPIdentification
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TradingPartner</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Email</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">TradingPartner</span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">ERPIdentification</span><span class="p">]</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
<li>ScheduledJobsHistory AuditDate not null
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ScheduledJobsHistory</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
<li>ProcessStepLookup increase column lengths
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ProcessStepLookup</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
<span class="k">GO</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ProcessStepLookup</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
<li>ProcessStepLookupDynamic increase column lengths
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ProcessStepLookupDynamic</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
<span class="k">GO</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ProcessStepLookupDynamic</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
<li>IntegrationDocumentQueue change ERP_id datatype decimal(19,0) -&gt; varchar(50)
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">IntegrationDocumentQueue</span>
<span class="k">ALTER</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="p">[</span><span class="n">ERP_id</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
<li>Status add column Version
    <div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Status</span><span class="p">]</span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
</ul>
<h4 id="view-changes">View changes</h4>
<div class="highlight"><pre><span></span><code>Various fixes. Update the following views to ensure compatibility
</code></pre></div>
<ul>
<li>API_QueryStockDetail (spelling fix, LocactionType -&gt; LocationType)</li>
<li>API_QueryStockTakeLines (add missing column, MasterItem.Description)</li>
<li>API_QueryStockTakeLinesSummary (Change add columns Count1Qty, Count2Qty, Count3Qty)</li>
<li>Integration_Transactions (fix only showing most recent IntegraitonLog entry for all failed transactions)</li>
</ul>
<h4 id="stored-procedure-changes">Stored Procedure changes</h4>
<ul>
<li>EmailTemplate (updated to maintain compatibility with GraniteScheduler)
    <div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="o">@</span><span class="k">Output</span><span class="w"> </span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Value</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w">  </span><span class="p">(</span><span class="s1">&#39;RecipientList&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">RecipientList</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;CC&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">CC</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;BCC&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">BCC</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Subject&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Subject</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;Body&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">Body</span><span class="p">),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;BodyIsHtml&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="k">ISNULL</span><span class="p">(</span><span class="o">@</span><span class="n">BodyIsHtml</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">varchar</span><span class="p">)),</span>
<span class="w">        </span><span class="p">(</span><span class="s1">&#39;AttachmentPath&#39;</span><span class="p">,</span><span class="w"> </span><span class="o">@</span><span class="n">AttachmentPath</span><span class="p">)</span>

<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="o">@</span><span class="k">Output</span>
</code></pre></div>
    changes to
    <div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w">  </span><span class="o">@</span><span class="n">RecipientList</span><span class="w"> </span><span class="n">RecipientList</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">CC</span><span class="w"> </span><span class="n">CC</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">BCC</span><span class="w"> </span><span class="n">BCC</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">Subject</span><span class="w"> </span><span class="p">[</span><span class="n">Subject</span><span class="p">],</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">Body</span><span class="w"> </span><span class="n">Body</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">BodyIsHtml</span><span class="w"> </span><span class="n">BodyIsHtml</span><span class="p">,</span><span class="w"> </span>
<span class="w">        </span><span class="o">@</span><span class="n">AttachmentPath</span><span class="w"> </span><span class="n">AttachmentPath</span>
</code></pre></div></li>
</ul>
<h4 id="default-process-scripts">Default Process scripts</h4>
<ul>
<li>Fix DefaultAdjustmentProcess.sql incorrect process name for lookup values</li>
<li>Fix DefaultQualityControlProcess.sql incorrect process name for lookup values</li>
</ul>
<h4 id="miscellaneous">Miscellaneous</h4>
<h5 id="new">New</h5>
<ul>
<li>Add older comparison scripts<ul>
<li>CompareTables.sql</li>
<li>CompareTablesAndViews.sql </li>
</ul>
</li>
<li>Add data compare scripts<ul>
<li>RowCountCompare.sql</li>
<li>ViewCountCompare.sql</li>
</ul>
</li>
<li>Add  .sql</li>
<li>Add DropUnusedIndex.sql</li>
<li>Add UnusedIndexes.sql</li>
<li>Add ShowDBLocks.sql</li>
</ul>
<h5 id="changes">Changes</h5>
<ul>
<li>ColumnCompare.sql (<ul>
<li>Add where clause example to include/exclude views)</li>
<li>Add column isTable</li>
</ul>
</li>
</ul>
<h3 id="evolutiondatabase">EvolutionDatabase</h3>
<hr />
<h4 id="new_1">New</h4>
<ul>
<li>Add Views and triggers for ScheduledJobs (still needs work)</li>
</ul>
<h2 id="07-sep-2022-4210">07 Sep 2022 (4.2.1.0)</h2>
<div class="highlight"><pre><span></span><code>    Major release to support Audit and Versioning.
    Add version column to all tables with audit functionality. 
    Document and DocumentDetail add columns to be used by integration to flag sync failures.
    Several minor changes as listed below.
</code></pre></div>
<hr />
<h3 id="table-changes-add-version-column">Table Changes Add Version column</h3>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Category</span><span class="p">]</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">TradingPartner</span><span class="p">]</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
Add AuditDate, AuditUser also
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">ProcessMembers</span><span class="p">]</span><span class="w"> </span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">UserGroup</span><span class="p">]</span><span class="w"> </span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Process</span><span class="p">]</span><span class="w"> </span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">ProcessStep</span><span class="p">]</span><span class="w"> </span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">AuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="p">,</span>
<span class="p">[</span><span class="n">AuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></p>
<h3 id="table-changes-add-erpsyncfailed-erpsyncfailedreason">Table changes Add ERPSyncFailed, ERPSyncFailedReason</h3>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">Document</span><span class="p">]</span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">ERPSyncFailed</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="p">[</span><span class="n">ERPSyncFailedReason</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="p">[</span><span class="n">DocumentDetail</span><span class="p">]</span><span class="w"> </span>
<span class="k">ADD</span><span class="w"> </span><span class="p">[</span><span class="n">ERPSyncFailed</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="p">[</span><span class="n">ERPSyncFailedReason</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="k">Version</span><span class="p">]</span><span class="w"> </span><span class="nb">SMALLINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="view-changes_1">View Changes</h3>
<div class="highlight"><pre><span></span><code>View changes below fixing various issues. Alteration on views required.
</code></pre></div>
<ul>
<li>Add column MasterItem_id to the following views</li>
<li><strong>API_QueryInventoryVariance</strong></li>
<li><strong>API_QueryInventoryVarianceDetail</strong></li>
<li><strong>API_QueryStockDetail</strong></li>
<li><strong>API_QueryStockTotals</strong> </li>
<li>
<p><strong>API_QueryStockTotalsDetail</strong></p>
</li>
<li>
<p>Fix <strong>Integration_Transactions</strong> view</p>
</li>
<li>
<p>Add clause to exclude CONSUME and Process.IntegrationIsActive. Also Exclude reversed transactions.</p>
</li>
<li>
<p>Fix reversal views, don't show already reversed transactions </p>
</li>
<li><strong>API_QueryTransactionsTransferReversal</strong></li>
<li><strong>API_QueryTransactionsReceiveReversal</strong></li>
<li><strong>API_QueryTransactionsPickReversal</strong></li>
</ul>
<h2 id="15-aug-2022">15 Aug 2022</h2>
<h3 id="view-changes_2">View changes</h3>
<h2 id="-add-masteritem-id-to-views-api_querystocktotalsdetail-api_querystocktotals-api_querystockdetail">- Add masterItem ID to views. API_QueryStockTotalsDetail, API_QueryStockTotals, API_QueryStockDetail</h2>
<h2 id="04-aug-2022-4200">04 Aug 2022 (4.2.0.0)</h2>
<p>Minor release for database changes in regards to future work.
Release also include changes related to Function Stored Procedures</p>
<h3 id="systemsettings-new-data-entry">SystemSettings new data entry</h3>
<p>Setting to hold database version in SystemSettings table.</p>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">SystemSettings</span><span class="w"> </span><span class="p">([</span><span class="n">Application</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="k">Key</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Value</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">Description</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isEncrypted</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="n">isActive</span><span class="p">],</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;GRANITE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DatabaseVersion&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;4.2.0.0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Granite Database version&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">GETDATE</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;AUTOMATION&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="new-table-type">New table type</h3>
<p>ScriptInputIdentities new type used by Function stored procedures
<div class="highlight"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">ScriptInputIdentities</span><span class="p">]</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TABLE</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bigint</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">)</span>
<span class="k">GO</span>
</code></pre></div></p>
<h3 id="function-template">Function Template</h3>
<ul>
<li>New example of Function stored procedure</li>
</ul>
<h3 id="new-table">New Table</h3>
<ul>
<li>Audit Table (usage of table for future release)</li>
</ul>
<hr />
<h2 id="27-july-2022">27 July 2022</h2>
<h3 id="data-changes">Data changes</h3>
<ul>
<li>Add new processes for "Menu" groupings</li>
<li>Default data entry in SystemSettings for GRANITESCHEDULER (ScheduleService)</li>
<li>Scheduled job entry for InventorySnapshot (ScheduleService)</li>
<li>Example EmailTemplate procedure</li>
</ul>
<h3 id="view-changes_3">View changes</h3>
<ul>
<li>API_QueryDocumentProgressDetail add UOM columns, add lineType for manufacturing</li>
<li>SystemMetaData_View various improvements</li>
</ul>
<h3 id="table-changes_2">Table changes</h3>
<ul>
<li>Users add column AllowSystemSettings, AllowScheduledJobs, AllowSystemMetaData, AllowDataImport</li>
<li>ScheduledJobs rename column JobParameter to StoredProcedure</li>
</ul>
<h3 id="new-tables_4">New Tables</h3>
<ul>
<li>SystemSettings</li>
<li>ScheduledJobsHistory</li>
<li>ScheduledJobInput</li>
</ul>
<h3 id="stored-procs-changes">Stored Procs changes</h3>
<ul>
<li>Job_Inventory_DailySnapShot remove dependency on Base view.</li>
</ul>
<h2 id="30-june">30 June</h2>
<h3 id="process-and-steps-default">Process and Steps default</h3>
<ul>
<li>Default Process and Steps data/setup improvements.</li>
</ul>
<h3 id="new-views_3">New Views</h3>
<ul>
<li>API_QueryStockReorder</li>
<li>API_QueryStockReplenish</li>
</ul>
<h3 id="new-function">New function</h3>
<ul>
<li>FN_GetOptionalField</li>
</ul>
<hr />
<h2 id="07-june">07 June</h2>
<p>Documentation for Accpac, SAP, Evolution Tables. Path: <em>\Software Installs\Granite\Granite V3.4.4\GraniteDatabase</em></p>
<h3 id="granitedatabase_4">GraniteDatabase</h3>
<hr />
<h4 id="table-changes_3">Table changes</h4>
<ul>
<li>Users, Name and Password not null</li>
<li>Users, Name UNIQUE</li>
<li>SystemMetaData, New column ProcessName</li>
</ul>
<h4 id="view-changes_4">View changes</h4>
<ul>
<li>API_QueryTransactionsPicking, add column ReversalTransaction_id</li>
<li>API_QueryTransactionsReceiving, add column ReversalTransaction_id</li>
<li>API_QueryTransactionsTransfer, add column ReversalTransaction_id</li>
<li>API_QueryStockDetail, add columns MasterItem and Location Category and Type</li>
<li>API_QueryStockTotals</li>
<li>API_QueryDocumentProgressDetail</li>
<li>API_QueryStockTakeLinesSummary</li>
</ul>
<h4 id="new-function_1">New function</h4>
<ul>
<li>SSRS_ParameterSplit, function used by SSRS reports to split comma delimited string</li>
</ul>
<h3 id="sapb1">SAPB1</h3>
<hr />
<ul>
<li>IntegrationProcessSalesOrder - Added Unit of Measure, Comment to lines, Changed Status on the Temporary Table from bit to varchar.</li>
<li>Created Queue stored proc for Transfer Requests</li>
<li>Created Process stored proc for Transfer Requests</li>
</ul>
<h3 id="accpac">ACCPAC</h3>
<hr />
<h4 id="stored-proc-changes">Stored Proc Changes</h4>
<ul>
<li>IntegrationProcessTransfer, Tweaks to the TransferIntegration for Sage Accpac. Mainly to deal with Intransit Receipt Document</li>
<li>IntegrationProcessPurchaseOrder. Update Granite document isActive</li>
<li>IntegrationProcessSalesOrder. Update Granite document isActive</li>
</ul>
<h4 id="new-stored-proc">New Stored Proc</h4>
<p>Downwards integration for Supplier Returns
- New IntegrationProcessSupplierReturn, TriggerGraniteSupplierReturn</p>
<hr />
<h2 id="20-may-2022">20 May 2022</h2>
<h3 id="granitedatabase_5">GraniteDatabase</h3>
<h4 id="view-changes_5">View changes</h4>
<ul>
<li>Integration_Transactions, exclude SPLIT transaction type, should not integrate. AND (dbo.[Transaction].Type != 'SPLIT')</li>
<li>SystemMetaData_View, various fixes</li>
<li>ProcessStepLookup_View, distinct UNION to exclude double entries</li>
</ul>
<hr />
<h2 id="18-may-2022">18 May 2022</h2>
<h3 id="granitedatabase_6">GraniteDatabase</h3>
<hr />
<h4 id="new-table_1">New table</h4>
<ul>
<li>ScheduledJobs
    <div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">ID</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">IDENTITY</span><span class="p">,</span>
<span class="p">[</span><span class="n">isActive</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">bit</span><span class="p">]</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">JobName</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">UNIQUE</span><span class="p">,</span>
<span class="p">[</span><span class="n">JobDescription</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="k">Type</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">JobParameter</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="nb">Interval</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">IntervalFormat</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">Status</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">LastExecutionTime</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="p">[</span><span class="n">LastExecutionResult</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nb">varchar</span><span class="p">](</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="n">AuditDate</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="n">AuditUser</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
</ul>
<h4 id="table-changes_4">Table changes</h4>
<ul>
<li>Users AllowBulkScrap &amp; AllowBulkMove DEFAULT 0</li>
<li>TradingPartner not null constraint on Code, Description, DocumentType</li>
<li>TradingPartner Code increase to 50</li>
<li>Table SystemSettings add column Application
    <div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">Application</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div></li>
</ul>
<h4 id="view-changes_6">View changes</h4>
<ul>
<li>API_QueryStockTakeLines add missing recommendation</li>
<li>API_QueryPickslipLines added in Comment and Instruction and missing fields    </li>
<li>API_QueryTransactions add FromBarcode</li>
</ul>
<h2 id="13-may-2022">13 May 2022</h2>
<h3 id="view-changes-alter-views">View Changes (alter views)</h3>
<ul>
<li>API_QueryStockTakeLines: Add recommendation for Count1,2,3 match</li>
</ul>
<h2 id="05-may-2022">05 May 2022</h2>
<h3 id="view-changes-alter-views_1">View Changes (alter views)</h3>
<p>Should be safe at this stage to re-create all API_* views for existing clients (upgrades)
- API_QueryDocumentProgress: Add column TradingPartnerCode, ExpectedDate. 
- API_QueryDocumentProgress, API_QueryDocument: Include completed documents with audit date in last 14 / 30 days
- API_QueryStockTakeLinesSummary. Change join from Barcode to ID on TrackingEntity Table
- API_QueryStockTakeLines. Change join from Barcode to ID on TrackingEntity Table
- API_QueryUserGroups, Add Users columns</p>
<h3 id="table-document-add-columns">Table Document add columns</h3>
<div class="highlight"><pre><span></span><code><span class="n">Route</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span>
<span class="n">Stop</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span>
<span class="n">AssignedTo</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
</code></pre></div>
<h3 id="table-document-change-column">Table Document change column</h3>
<div class="highlight"><pre><span></span><code><span class="n">TradingPartnerDescription</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
</code></pre></div>
<h3 id="table-tradingpartner-change-column">Table TradingPartner change column</h3>
<div class="highlight"><pre><span></span><code><span class="n">Description</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
</code></pre></div>
<h3 id="table-custom_documenttrackinglog-change-column">Table custom_DocumentTrackingLog change column</h3>
<div class="highlight"><pre><span></span><code><span class="k">Comment</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
</code></pre></div>
<h3 id="table-custom_documenttrackinglog-add-column">Table custom_DocumentTrackingLog add column</h3>
<div class="highlight"><pre><span></span><code><span class="n">Process</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span>
<span class="n">AdditionalData</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
</code></pre></div>
<h3 id="table-stocktakelines-add-columns">Table StockTakeLines add columns</h3>
<div class="highlight"><pre><span></span><code><span class="n">OpeningLocationERP</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="n">MasterItemCode</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
</code></pre></div>
<h2 id="31-mar-2022">31 Mar 2022</h2>
<h3 id="table-stocktakelines-add-column">Table StockTakeLines Add column</h3>
<div class="highlight"><pre><span></span><code><span class="n">TrackingEntity_id</span><span class="w"> </span><span class="nb">bigint</span>
</code></pre></div>
<h3 id="views-new">Views New</h3>
<ul>
<li>SystemMetaData_View</li>
</ul>
<h2 id="25-mar-2022">25 Mar 2022</h2>
<h3 id="table-masteritemalias">Table MasterItemAlias</h3>
<ul>
<li>Change column Code type to VARCHAR(50)</li>
</ul>
<h2 id="23-mar-2022">23 Mar 2022</h2>
<h3 id="table-functionparameter-add-column">Table FunctionParameter Add column</h3>
<div class="highlight"><pre><span></span><code><span class="n">isBool</span><span class="w"> </span><span class="nb">bit</span>
</code></pre></div>
<h2 id="08-mar-2022">08 Mar 2022</h2>
<p>Table FunctionParameterLookup Add column 
<div class="highlight"><pre><span></span><code><span class="n">isActive</span><span class="w"> </span><span class="nb">bit</span>
</code></pre></div></p>
<h3 id="table-functionparameterlookup">Table FunctionParameterLookup</h3>
<ul>
<li>Rename column Function to FunctionName</li>
<li>Rename column Description to ParameterName</li>
</ul>
<h3 id="new-views_4">New Views</h3>
<ul>
<li>FunctionParameterLookup_View</li>
</ul>
<h3 id="changed-views_6">Changed Views</h3>
<ul>
<li>API_QueryDocumentProgressDetail change lineNumber to bigint</li>
<li>API_QueryTransactionsPickReversal</li>
<li>API_QueryTransactionsReceiveReversal</li>
<li>API_QueryTransactions</li>
</ul>
<h2 id="27-feb-2022">27 Feb 2022</h2>
<h3 id="new-views_5">New Views</h3>
<ul>
<li>API_QueryTransactionsTransferReversal</li>
<li>API_QueryStockTakeCriteria</li>
</ul>
<h3 id="changed-views_7">Changed Views</h3>
<ul>
<li>App_Outbound_Packing where clause for type incorrect.</li>
<li>API_QueryStockDetail. Rename columns MasterItemCode and MasterItemDescription to Code and Description</li>
<li>API_QueryTransactions. Add column LineNumber</li>
<li>API_QueryPickslipLines. Add column SalesOrderLine </li>
<li>API_QueryStockTotalsDetail, API_QueryStockTotals. Exclude Non stock location</li>
<li>API_QueryStockDetail. Rename columns MasterItemCode and MasterItemDescription to Code    and Description</li>
<li>API_QueryDocumentProgress add column document description</li>
</ul>
<h3 id="table-transaction-add-column">Table Transaction add column</h3>
<div class="highlight"><pre><span></span><code><span class="n">LinkedTransaction_id</span><span class="w"> </span><span class="nb">bigint</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="table-documentdetail-update-columns">Table DocumentDetail Update columns</h3>
<div class="highlight"><pre><span></span><code><span class="w"> </span><span class="n">LineNumber</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="w"> </span><span class="k">Comment</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span>
<span class="w"> </span><span class="o">```</span>

<span class="o">###</span><span class="w"> </span><span class="k">Table</span><span class="w"> </span><span class="n">StockTakeSession</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="k">column</span><span class="w"> </span>
<span class="o">```</span><span class="k">sql</span>
<span class="n">Site</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="table-processstep-data">Table ProcessStep data</h3>
<ul>
<li>Add step DocumentReference to all standard Document Post processes</li>
</ul>
<h3 id="accpac_1">Accpac:</h3>
<hr />
<h4 id="stored-procs-new-fixes">Stored Procs New &amp; Fixes</h4>
<ul>
<li>Fix IntegrationProcessTransfer. Receipt qty fetch from ICTRID</li>
<li>New Upwards integration scripts Accpac IC / Assemblies.</li>
<li>IntegrationProcessTransfer add no lock</li>
<li>IntegrationProcessSalesOrder add no lock</li>
<li>IntegrationProcessPurchaseOrder add no lock</li>
</ul>
<h2 id="22-nov-2021">22 Nov 2021</h2>
<h3 id="table-users-new-columns">Table Users new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">AllowBulkScrap</span><span class="p">]</span><span class="w"> </span><span class="nb">bit</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">[</span><span class="n">AllowBulkMove</span><span class="p">]</span><span class="w"> </span><span class="nb">bit</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h2 id="10-nov-2021">10 Nov 2021</h2>
<h3 id="execute-script-to-add-previous-data-for-documents">EXECUTE Script to add previous Data for Documents:</h3>
<div class="highlight"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">TradingPartner</span><span class="w"> </span><span class="p">(</span><span class="n">Code</span><span class="p">,[</span><span class="n">Description</span><span class="p">],[</span><span class="n">Name</span><span class="p">],</span><span class="w"> </span><span class="n">DocumentType</span><span class="p">,</span><span class="w"> </span><span class="n">AuditDate</span><span class="p">,</span><span class="w"> </span><span class="n">AuditUser</span><span class="p">)</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="n">TradingPartnerDescription</span><span class="p">,</span><span class="w"> </span><span class="n">TradingPartnerCode</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="k">Type</span><span class="p">],</span><span class="w"> </span><span class="n">getdate</span><span class="p">(),</span><span class="w"> </span><span class="s1">&#39;INTEGRATION&#39;</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">Document</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">TradingPartnerCode</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">Code</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">TradingPartner</span><span class="p">)</span>
</code></pre></div>
<h3 id="accpac_2">Accpac:</h3>
<hr />
<h4 id="update-stored-procs-to-insert-trading-partner">Update Stored procs to insert trading partner:</h4>
<ul>
<li>IntegrationProcessPurchaseOrder </li>
<li>IntegrationProcessSalesOrder </li>
</ul>
<h3 id="pastel-evo">Pastel Evo:</h3>
<hr />
<h4 id="update-stored-procs-to-insert-trading-partner_1">Update Stored procs to insert trading partner:</h4>
<ul>
<li>IntegrationProcessPurchaseOrder </li>
<li>IntegrationProcessSalesOrder </li>
</ul>
<h3 id="sap-b1">SAP B1:</h3>
<hr />
<h4 id="update-stored-procs-to-insert-trading-partner_2">Update Stored procs to insert trading partner:</h4>
<ul>
<li>GranitePurchaseOrder </li>
<li>GraniteSalesOrder </li>
</ul>
<h2 id="3-november-2021">3 November 2021</h2>
<h3 id="table-tradingpartner-new-columns">Table TradingPartner new columns</h3>
<div class="highlight"><pre><span></span><code>DocumentType 
AuditDate 
AuditUser
</code></pre></div>
<h3 id="table-tradingpartner-rename-column-name-to-description">Table TradingPartner rename column Name to Description</h3>
<h3 id="table-users-new-column">Table Users new column</h3>
<p><div class="highlight"><pre><span></span><code>AllowTradingPartner 
</code></pre></div>
Table Document new column 
<div class="highlight"><pre><span></span><code>ExpectedDate
</code></pre></div></p>
<h3 id="new-view">New View</h3>
<ul>
<li>API_QueryTradingPartners</li>
</ul>
<h3 id="update-view-api_querylocations-remove-0-qty-trackingentities">Update view API_QueryLocations remove 0 qty trackingentities</h3>
<h3 id="data-table-type">Data Table Type</h3>
<ul>
<li>Rename document types to INTRANSIT and RECEIPT</li>
</ul>
<h2 id="06-oct-2021">06 Oct 2021</h2>
<h3 id="table-transaction-new-columns">Table Transaction new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">ReversalTransaction_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="table-documentdetail-new-columns">Table DocumentDetail new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">ReversalAuditUser</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
<span class="p">[</span><span class="n">ReversalAuditDate</span><span class="p">]</span><span class="w"> </span><span class="n">DATETIME</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="data-table-status">Data Table Status</h3>
<ul>
<li>Rename status CANCELED to CANCELLED</li>
</ul>
<h3 id="data-table-type_1">Data Table Type</h3>
<ul>
<li>Add transaction type TRANSACTIONREVERSAL</li>
</ul>
<h3 id="new-views_6">New Views</h3>
<ul>
<li>API_QueryTransactionsReceiveReversal</li>
<li>API_QueryTransactionsPickReversal</li>
</ul>
<h2 id="07-sep-2021">07 Sep 2021</h2>
<h3 id="new-sql-views">New Sql Views</h3>
<ul>
<li>API_QueryTransactionsPicking</li>
<li>API_QueryTransactionsReceiving </li>
<li>API_QueryTransactionsManufacture </li>
<li>API_QueryTransactionsTransfer</li>
</ul>
<h2 id="06-sep-2021">06 Sep 2021</h2>
<h3 id="table-process-change-column-integrationmethod-varchar-20-to-50">Table Process change column IntegrationMethod - Varchar 20 to 50</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">IntegrationMethod</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="table-stocktakelines-new-columns">Table StockTakeLines new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">MasterItem_id</span><span class="p">]</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="pastelevo-database">PastelEVO Database</h3>
<hr />
<h4 id="add-scripts-for-pastel-transfer">Add scripts for Pastel Transfer</h4>
<p>Note the previous and still supported “transfer” moved to IntransitTransfer.</p>
<h4 id="fix-stored-proc-integrationprocessworkorder-collate-issue">Fix Stored Proc IntegrationProcessWorkOrder - collate issue</h4>
<pre><code>...\PastelEVOIntegration\WorkOrder\IntegrationProcessWorkOrder.sql
</code></pre>
<h2 id="20-july-2021">20 July 2021</h2>
<ul>
<li>New user AUTOMATION and UserGroup SYSTEM. Use when you have external applications, scripts, excel etc performing data alterations.</li>
<li>Change: API_QueryDocumentProgress increase decimal point on progress percentage.</li>
<li>Change: Table IntegrationLog column LogOrigin from varchar 20 to 50</li>
<li>New: Add table FunctionParamaterLookup.</li>
<li>Change: Table InventoryDailyBalanace add columns ERPSTDCOST and ERPLASTCOST.</li>
<li>Change: API_QueryDocumentProgressDetail add Instruction and Comment column.</li>
<li>Change: API_QueryProcesses add Prescripts column.</li>
<li>Change: API_QueryDocumentProgress add TradingPartnerCode and Description. </li>
<li>Change: API_QueryDocuments add InetgrationReference column. Add order by ID.</li>
<li>Change/Alter: ProcessStepLookupDynamic table change identity seed to 100000.</li>
<li>Change: Location table, Columns Name and Barcode length changed from 30 to 50.</li>
<li>New: IntegrationMethodExample.sql – example stored procedure of how to implement custom integration stored proc.</li>
<li>New Table ProcessStepLookupDynamic</li>
<li>Change: ProcessStepLookup_View include data from ProcessStepLookupDynamic</li>
<li>Add TRANSFERDYNAMICPOST process and process step.</li>
</ul>
<h2 id="31-march-2021">31 March 2021</h2>
<h3 id="new-process-data-stocktakecount">New Process Data StockTakeCount</h3>
<pre><code>...\Process\DefaultStockTakeCountProcess.sql
</code></pre>
<h3 id="new-process-data-returnpost">New Process Data ReturnPost</h3>
<pre><code>...\Process\DefaultDocumentPostProcesses.sql (RETURNPOST entry)
</code></pre>
<h2 id="16-march-2021">16 March 2021</h2>
<h3 id="table-processsteplookup-new-columns">Table ProcessStepLookUp new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">UserName</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="view-processsteplookup_view-new-columns">View ProcessStepLookUp_View new columns</h3>
<pre><code>[UserName]
</code></pre>
<h2 id="1-march-2021">1 March 2021</h2>
<ul>
<li>Add API views (web desktop) to create script execution</li>
<li>Update view API_QueryTrackingEntities, add calculated column for TrackingEntity status</li>
</ul>
<h2 id="10-jan-2021">10 Jan 2021</h2>
<h3 id="table-users-new-columns_1">Table Users new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">AllowProcess</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span>
<span class="p">[</span><span class="n">AllowUserGroups</span><span class="p">]</span><span class="w"> </span><span class="nb">BIT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>
<h3 id="table-documentdetail-new-columns_1">Table DocumentDetail new columns</h3>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="n">LinePriority</span><span class="p">]</span><span class="w"> </span><span class="nb">int</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span>
<span class="p">[</span><span class="n">Instruction</span><span class="p">]</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">250</span><span class="p">)</span><span class="w"> </span><span class="k">NULL</span>
</code></pre></div>
<h3 id="new-process-data-custom">New Process Data Custom</h3>
<pre><code>…\Process\DefaultCustomProcess.sql (example)
</code></pre>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.top", "toc.follow", "content.code.copy", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c18c5fb9.min.js"></script>
      
        <script src="../../extra_js/custom.js"></script>
      
    
  </body>
</html>